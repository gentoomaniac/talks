# Refactoring to Immutability - Kevlin Henney (2018-02-15)

![alt Refactoring to Immutability - Kevlin Henney](img/APUCMSPiNh4.jpg "Refactoring to Immutability - Kevlin Henney")

## Description

It has been said that immutability changes everything. But what does that mean in practice? What does it mean for existing code that looks more like the mutant apocalypse than an elegant application of mathematical thinking?

Immutability can be an ideal that is hard to reach. Refactoring, on the other hand, is all about the art of the possible. In this talk we'll be clarifying motivation and exploring some approaches to help reducing state mutability in code.



NDC Conferences
https://ndc-london.com
https://ndcconferences.com

## Transcript

[0:00:00](https://youtu.be/APUCMSPiNh4?t=0) right good afternoon so what I'm going  
[0:00:05](https://youtu.be/APUCMSPiNh4?t=5) to talk about is refactoring to  
[0:00:06](https://youtu.be/APUCMSPiNh4?t=6) immutability and I'm specifically  
[0:00:09](https://youtu.be/APUCMSPiNh4?t=9) bringing these two words together  
[0:00:12](https://youtu.be/APUCMSPiNh4?t=12) because there's no shortage of sessions  
[0:00:16](https://youtu.be/APUCMSPiNh4?t=16) that will urge you how wonderful making  
[0:00:20](https://youtu.be/APUCMSPiNh4?t=20) things less mutable is so I will clearly  
[0:00:22](https://youtu.be/APUCMSPiNh4?t=22) start with that the problem that most  
[0:00:25](https://youtu.be/APUCMSPiNh4?t=25) people encounter though is that they  
[0:00:27](https://youtu.be/APUCMSPiNh4?t=27) already have stuff and it turns out that  
[0:00:29](https://youtu.be/APUCMSPiNh4?t=29) that stuff the only way it's immutable  
[0:00:30](https://youtu.be/APUCMSPiNh4?t=30) is the sheer fear of having to change it  
[0:00:33](https://youtu.be/APUCMSPiNh4?t=33) okay the wrong kind of immutability and  
[0:00:36](https://youtu.be/APUCMSPiNh4?t=36) it is filled with mutability that  
[0:00:39](https://youtu.be/APUCMSPiNh4?t=39) becomes the problem so there's kind of a  
[0:00:40](https://youtu.be/APUCMSPiNh4?t=40) from here to there how do we do that how  
[0:00:42](https://youtu.be/APUCMSPiNh4?t=42) do we reason about it so there's more a  
[0:00:44](https://youtu.be/APUCMSPiNh4?t=44) little more of a cookbook element to  
[0:00:47](https://youtu.be/APUCMSPiNh4?t=47) this in the sense of trying to make  
[0:00:48](https://youtu.be/APUCMSPiNh4?t=48) things possible because it's all very  
[0:00:50](https://youtu.be/APUCMSPiNh4?t=50) well people coming along go ah there's  
[0:00:52](https://youtu.be/APUCMSPiNh4?t=52) this beautiful land we can reach it or  
[0:00:54](https://youtu.be/APUCMSPiNh4?t=54) you know if you're there you're there  
[0:00:56](https://youtu.be/APUCMSPiNh4?t=56) but everybody else is here how do we get  
[0:00:58](https://youtu.be/APUCMSPiNh4?t=58) there  
[0:01:00](https://youtu.be/APUCMSPiNh4?t=60) so that's where I talk about my name is  
[0:01:03](https://youtu.be/APUCMSPiNh4?t=63) Kevin honey I'm do various bits and  
[0:01:06](https://youtu.be/APUCMSPiNh4?t=66) pieces I talk about some of this stuff  
[0:01:08](https://youtu.be/APUCMSPiNh4?t=68) in one form or another and I have a very  
[0:01:11](https://youtu.be/APUCMSPiNh4?t=71) strong interest in code the way people  
[0:01:14](https://youtu.be/APUCMSPiNh4?t=74) express themselves in code the  
[0:01:16](https://youtu.be/APUCMSPiNh4?t=76) challenges that they find there and I  
[0:01:19](https://youtu.be/APUCMSPiNh4?t=79) quite like words I think words are  
[0:01:21](https://youtu.be/APUCMSPiNh4?t=81) lovely things and I love wordplay this  
[0:01:23](https://youtu.be/APUCMSPiNh4?t=83) is one of my favorite titles  
[0:01:26](https://youtu.be/APUCMSPiNh4?t=86) it's from communications of the ACM a  
[0:01:28](https://youtu.be/APUCMSPiNh4?t=88) couple of years ago immutability changes  
[0:01:30](https://youtu.be/APUCMSPiNh4?t=90) everything I love that just as we have  
[0:01:33](https://youtu.be/APUCMSPiNh4?t=93) this challenge of refactoring to  
[0:01:34](https://youtu.be/APUCMSPiNh4?t=94) mutability it's just there's this notion  
[0:01:36](https://youtu.be/APUCMSPiNh4?t=96) of we're constantly dabbling in change  
[0:01:38](https://youtu.be/APUCMSPiNh4?t=98) and not change now for many people when  
[0:01:41](https://youtu.be/APUCMSPiNh4?t=101) they think about immutability these days  
[0:01:46](https://youtu.be/APUCMSPiNh4?t=106) they tend to think about functional  
[0:01:48](https://youtu.be/APUCMSPiNh4?t=108) programming which i think it's kind of  
[0:01:49](https://youtu.be/APUCMSPiNh4?t=109) sweet welcome to the club everybody nice  
[0:01:52](https://youtu.be/APUCMSPiNh4?t=112) of you to join us with the idea of  
[0:01:53](https://youtu.be/APUCMSPiNh4?t=113) immutability that's kind of been that's  
[0:01:56](https://youtu.be/APUCMSPiNh4?t=116) quite old  
[0:01:56](https://youtu.be/APUCMSPiNh4?t=116) it's it's a very mathematical concept  
[0:01:59](https://youtu.be/APUCMSPiNh4?t=119) based on platonic solids basically  
[0:02:02](https://youtu.be/APUCMSPiNh4?t=122) there's a sort of an immutable truth out  
[0:02:04](https://youtu.be/APUCMSPiNh4?t=124) there beyond our universe functional  
[0:02:06](https://youtu.be/APUCMSPiNh4?t=126) programming is kind of a it joined the  
[0:02:08](https://youtu.be/APUCMSPiNh4?t=128) game late in the 1950s so all those  
[0:02:12](https://youtu.be/APUCMSPiNh4?t=132) people are really getting into 1950  
[0:02:13](https://youtu.be/APUCMSPiNh4?t=133) programming well done so but there is a  
[0:02:18](https://youtu.be/APUCMSPiNh4?t=138) nice way of thinking about this that  
[0:02:20](https://youtu.be/APUCMSPiNh4?t=140) Michael feathers tweeted a few years ago  
[0:02:22](https://youtu.be/APUCMSPiNh4?t=142) and I think his rationalization that  
[0:02:24](https://youtu.be/APUCMSPiNh4?t=144) funnily enough it was the way that I  
[0:02:26](https://youtu.be/APUCMSPiNh4?t=146) explained this to a colleague many years  
[0:02:30](https://youtu.be/APUCMSPiNh4?t=150) ago yes without the brevity of  
[0:02:32](https://youtu.be/APUCMSPiNh4?t=152) old-school tweeting it's this idea of we  
[0:02:37](https://youtu.be/APUCMSPiNh4?t=157) are constantly focused on how do we  
[0:02:39](https://youtu.be/APUCMSPiNh4?t=159) organize state how are we how do we got  
[0:02:41](https://youtu.be/APUCMSPiNh4?t=161) our heads around this stuff and each  
[0:02:43](https://youtu.be/APUCMSPiNh4?t=163) discipline each paradigm that comes  
[0:02:46](https://youtu.be/APUCMSPiNh4?t=166) along offers us a new way of reasoning  
[0:02:47](https://youtu.be/APUCMSPiNh4?t=167) about the relationships between behavior  
[0:02:49](https://youtu.be/APUCMSPiNh4?t=169) and state and it does so in a way that  
[0:02:52](https://youtu.be/APUCMSPiNh4?t=172) ultimately we can fit it inside our  
[0:02:54](https://youtu.be/APUCMSPiNh4?t=174) heads and we use various excuses like  
[0:02:56](https://youtu.be/APUCMSPiNh4?t=176) better hardware and so on to justify  
[0:03:00](https://youtu.be/APUCMSPiNh4?t=180) this but ultimately it's about what can  
[0:03:02](https://youtu.be/APUCMSPiNh4?t=182) we do  
[0:03:03](https://youtu.be/APUCMSPiNh4?t=183) whoa makes code understandable the  
[0:03:06](https://youtu.be/APUCMSPiNh4?t=186) operative word here is not executable  
[0:03:07](https://youtu.be/APUCMSPiNh4?t=187) but understandable it's about you hence  
[0:03:10](https://youtu.be/APUCMSPiNh4?t=190) the challenge or the desire to refactor  
[0:03:12](https://youtu.be/APUCMSPiNh4?t=192) it's ultimately about you it turns out  
[0:03:14](https://youtu.be/APUCMSPiNh4?t=194) the processor doesn't really have a  
[0:03:15](https://youtu.be/APUCMSPiNh4?t=195) strong interest or a strong care about  
[0:03:18](https://youtu.be/APUCMSPiNh4?t=198) this stuff makes code understandable by  
[0:03:21](https://youtu.be/APUCMSPiNh4?t=201) encapsulating moving parts which I  
[0:03:23](https://youtu.be/APUCMSPiNh4?t=203) thought was a lovely way of putting it  
[0:03:25](https://youtu.be/APUCMSPiNh4?t=205) what we're doing here is rather than  
[0:03:27](https://youtu.be/APUCMSPiNh4?t=207) having kind of spaghetti spaghetti state  
[0:03:31](https://youtu.be/APUCMSPiNh4?t=211) management what we're going to do is  
[0:03:32](https://youtu.be/APUCMSPiNh4?t=212) we're gonna organize things ravioli  
[0:03:34](https://youtu.be/APUCMSPiNh4?t=214) style and we're gonna bring things  
[0:03:36](https://youtu.be/APUCMSPiNh4?t=216) together and say sure there's some state  
[0:03:38](https://youtu.be/APUCMSPiNh4?t=218) change but it happens behind closed  
[0:03:41](https://youtu.be/APUCMSPiNh4?t=221) doors we can reason about it clearly  
[0:03:42](https://youtu.be/APUCMSPiNh4?t=222) through a method boundary but it is  
[0:03:45](https://youtu.be/APUCMSPiNh4?t=225) isolated is the notion of isolation that  
[0:03:47](https://youtu.be/APUCMSPiNh4?t=227) allows you to reason about it functional  
[0:03:50](https://youtu.be/APUCMSPiNh4?t=230) programming makes code understandable by  
[0:03:51](https://youtu.be/APUCMSPiNh4?t=231) minimizing moving parts notice that  
[0:03:53](https://youtu.be/APUCMSPiNh4?t=233) these two desires are ultimately about  
[0:03:56](https://youtu.be/APUCMSPiNh4?t=236) you and your ability to reason about  
[0:03:57](https://youtu.be/APUCMSPiNh4?t=237) things but I like that idea of here's a  
[0:03:59](https://youtu.be/APUCMSPiNh4?t=239) different road we're going to reduce the  
[0:04:01](https://youtu.be/APUCMSPiNh4?t=241) number of moving parts that we have so  
[0:04:05](https://youtu.be/APUCMSPiNh4?t=245) if you've got a turntable given that  
[0:04:10](https://youtu.be/APUCMSPiNh4?t=250) vinyl is coming back into fashion if you  
[0:04:14](https://youtu.be/APUCMSPiNh4?t=254) got a turntable I used to have an old  
[0:04:17](https://youtu.be/APUCMSPiNh4?t=257) jewel deck and and you pay so much more  
[0:04:20](https://youtu.be/APUCMSPiNh4?t=260) for a turntable that has fewer moving  
[0:04:23](https://youtu.be/APUCMSPiNh4?t=263) parts because why why is that  
[0:04:26](https://youtu.be/APUCMSPiNh4?t=266) it's just there's none of this auto  
[0:04:28](https://youtu.be/APUCMSPiNh4?t=268) tracking press a button things happen oh  
[0:04:30](https://youtu.be/APUCMSPiNh4?t=270) no you have to move the needle into  
[0:04:33](https://youtu.be/APUCMSPiNh4?t=273) position and you pay for the privilege  
[0:04:35](https://youtu.be/APUCMSPiNh4?t=275) okay but what you get is reliability  
[0:04:38](https://youtu.be/APUCMSPiNh4?t=278) there are fewer moving parts therefore  
[0:04:40](https://youtu.be/APUCMSPiNh4?t=280) there is less that can break and it's  
[0:04:42](https://youtu.be/APUCMSPiNh4?t=282) exactly that kind of reasoning so yeah  
[0:04:47](https://youtu.be/APUCMSPiNh4?t=287) there are other things that people value  
[0:04:49](https://youtu.be/APUCMSPiNh4?t=289) about functional programming why do you  
[0:04:51](https://youtu.be/APUCMSPiNh4?t=291) like functional programming so much what  
[0:04:52](https://youtu.be/APUCMSPiNh4?t=292) does it actually get you I just love  
[0:04:54](https://youtu.be/APUCMSPiNh4?t=294) that tail recursion is its own reward I  
[0:04:56](https://youtu.be/APUCMSPiNh4?t=296) think it's just that it says everything  
[0:04:57](https://youtu.be/APUCMSPiNh4?t=297) if you don't find that funny then I will  
[0:05:00](https://youtu.be/APUCMSPiNh4?t=300) go to one of the functions of  
[0:05:01](https://youtu.be/APUCMSPiNh4?t=301) programming sessions function program  
[0:05:04](https://youtu.be/APUCMSPiNh4?t=304) combines the flexibility and power of  
[0:05:05](https://youtu.be/APUCMSPiNh4?t=305) abstract mathematics with the intuitive  
[0:05:07](https://youtu.be/APUCMSPiNh4?t=307) clarity of abstract mathematics is  
[0:05:08](https://youtu.be/APUCMSPiNh4?t=308) another way of looking at it however the  
[0:05:12](https://youtu.be/APUCMSPiNh4?t=312) bit that concerns us it's functional  
[0:05:15](https://youtu.be/APUCMSPiNh4?t=315) programming typically avoids using state  
[0:05:17](https://youtu.be/APUCMSPiNh4?t=317) and that is I think that's a very  
[0:05:20](https://youtu.be/APUCMSPiNh4?t=320) moderate statement actually because  
[0:05:22](https://youtu.be/APUCMSPiNh4?t=322) given that it comes from the haskell  
[0:05:23](https://youtu.be/APUCMSPiNh4?t=323) website because house how scallions  
[0:05:25](https://youtu.be/APUCMSPiNh4?t=325) would normally say it completely avoids  
[0:05:27](https://youtu.be/APUCMSPiNh4?t=327) but they realize they need to speak to  
[0:05:29](https://youtu.be/APUCMSPiNh4?t=329) people and they you know so therefore  
[0:05:31](https://youtu.be/APUCMSPiNh4?t=331) they compromise typically I like that  
[0:05:33](https://youtu.be/APUCMSPiNh4?t=333) yeah so let us start with a very simple  
[0:05:36](https://youtu.be/APUCMSPiNh4?t=336) observation Bertrand Meyer who wrote the  
[0:05:39](https://youtu.be/APUCMSPiNh4?t=339) book object-oriented software  
[0:05:40](https://youtu.be/APUCMSPiNh4?t=340) construction many moons ago asking a  
[0:05:42](https://youtu.be/APUCMSPiNh4?t=342) question should not change the answer  
[0:05:44](https://youtu.be/APUCMSPiNh4?t=344) this is philosophically interesting and  
[0:05:47](https://youtu.be/APUCMSPiNh4?t=347) valid but clearly he doesn't have  
[0:05:48](https://youtu.be/APUCMSPiNh4?t=348) children  
[0:05:50](https://youtu.be/APUCMSPiNh4?t=350) but nonetheless it gives us a starting  
[0:05:52](https://youtu.be/APUCMSPiNh4?t=352) point asking a question should not  
[0:05:54](https://youtu.be/APUCMSPiNh4?t=354) change the answer so that means if I can  
[0:05:56](https://youtu.be/APUCMSPiNh4?t=356) frame my code as a series of questions  
[0:06:01](https://youtu.be/APUCMSPiNh4?t=361) asking things about other things then we  
[0:06:06](https://youtu.be/APUCMSPiNh4?t=366) can have a very rare very nice property  
[0:06:08](https://youtu.be/APUCMSPiNh4?t=368) it is the idea that that thing that you  
[0:06:11](https://youtu.be/APUCMSPiNh4?t=371) left you walk away you come back to it  
[0:06:13](https://youtu.be/APUCMSPiNh4?t=373) is still there there's no surprises at  
[0:06:17](https://youtu.be/APUCMSPiNh4?t=377) the principle of least astonishment more  
[0:06:18](https://youtu.be/APUCMSPiNh4?t=378) importantly and likewise no children  
[0:06:20](https://youtu.be/APUCMSPiNh4?t=380) here and nor should asking it twice  
[0:06:23](https://youtu.be/APUCMSPiNh4?t=383) idempotence which is one of those  
[0:06:25](https://youtu.be/APUCMSPiNh4?t=385) glorious words that means nothing unless  
[0:06:27](https://youtu.be/APUCMSPiNh4?t=387) you know the latin EDM meaning same  
[0:06:29](https://youtu.be/APUCMSPiNh4?t=389) potens meaning force it has the same  
[0:06:31](https://youtu.be/APUCMSPiNh4?t=391) force no matter how many times the same  
[0:06:33](https://youtu.be/APUCMSPiNh4?t=393) effect every single time you call it so  
[0:06:36](https://youtu.be/APUCMSPiNh4?t=396) there is this idea we can rely on an  
[0:06:38](https://youtu.be/APUCMSPiNh4?t=398) expression having a  
[0:06:40](https://youtu.be/APUCMSPiNh4?t=400) not just a particular intention but  
[0:06:42](https://youtu.be/APUCMSPiNh4?t=402) actually having a particular value we  
[0:06:44](https://youtu.be/APUCMSPiNh4?t=404) can repeat that there's less to worry  
[0:06:47](https://youtu.be/APUCMSPiNh4?t=407) about so a number of years ago I edited  
[0:06:51](https://youtu.be/APUCMSPiNh4?t=411) this book 97 things every programmer  
[0:06:54](https://youtu.be/APUCMSPiNh4?t=414) should know I was around 2010 and what  
[0:06:57](https://youtu.be/APUCMSPiNh4?t=417) is nice is that there's about two or  
[0:06:59](https://youtu.be/APUCMSPiNh4?t=419) three items in there as it were we're  
[0:07:02](https://youtu.be/APUCMSPiNh4?t=422) ahead of the current trend for  
[0:07:06](https://youtu.be/APUCMSPiNh4?t=426) functional programming that we're really  
[0:07:08](https://youtu.be/APUCMSPiNh4?t=428) sort of urging you start thinking like  
[0:07:10](https://youtu.be/APUCMSPiNh4?t=430) this it's valuable ed garsten  
[0:07:12](https://youtu.be/APUCMSPiNh4?t=432) in apply functional programming  
[0:07:14](https://youtu.be/APUCMSPiNh4?t=434) principles makes a point about  
[0:07:15](https://youtu.be/APUCMSPiNh4?t=435) referential transparency very desirable  
[0:07:17](https://youtu.be/APUCMSPiNh4?t=437) property implies that functions  
[0:07:18](https://youtu.be/APUCMSPiNh4?t=438) consistently yield the same results  
[0:07:20](https://youtu.be/APUCMSPiNh4?t=440) given the same input irrespective of  
[0:07:22](https://youtu.be/APUCMSPiNh4?t=442) where and when they are invoked and and  
[0:07:24](https://youtu.be/APUCMSPiNh4?t=444) this function valuation depends less  
[0:07:26](https://youtu.be/APUCMSPiNh4?t=446) ideally not at all on the side-effect of  
[0:07:28](https://youtu.be/APUCMSPiNh4?t=448) mutable state so ultimately what we're  
[0:07:30](https://youtu.be/APUCMSPiNh4?t=450) after here is a very simple desire now  
[0:07:34](https://youtu.be/APUCMSPiNh4?t=454) this is this is not exactly a  
[0:07:36](https://youtu.be/APUCMSPiNh4?t=456) groundbreaking statement your code  
[0:07:38](https://youtu.be/APUCMSPiNh4?t=458) should be reasonable yeah it might even  
[0:07:42](https://youtu.be/APUCMSPiNh4?t=462) be understated because I mean we often  
[0:07:43](https://youtu.be/APUCMSPiNh4?t=463) talk about your code should be good it  
[0:07:45](https://youtu.be/APUCMSPiNh4?t=465) should be clean it should be awesome I'm  
[0:07:46](https://youtu.be/APUCMSPiNh4?t=466) just saying it should be reasonable  
[0:07:47](https://youtu.be/APUCMSPiNh4?t=467) which sounds it sounds like a complete  
[0:07:49](https://youtu.be/APUCMSPiNh4?t=469) lack of ambition except that I want to  
[0:07:52](https://youtu.be/APUCMSPiNh4?t=472) draw your attention to the fact that the  
[0:07:54](https://youtu.be/APUCMSPiNh4?t=474) word reasonable has more than one  
[0:07:56](https://youtu.be/APUCMSPiNh4?t=476) meaning okay you should be able to  
[0:08:00](https://youtu.be/APUCMSPiNh4?t=480) reason about your code  
[0:08:01](https://youtu.be/APUCMSPiNh4?t=481) your code should be both reasonable and  
[0:08:03](https://youtu.be/APUCMSPiNh4?t=483) reasonable okay you should have the  
[0:08:06](https://youtu.be/APUCMSPiNh4?t=486) capacity the ability to easily grasp  
[0:08:08](https://youtu.be/APUCMSPiNh4?t=488) grasped it and understand it loaded into  
[0:08:10](https://youtu.be/APUCMSPiNh4?t=490) your head and be unsurprised by the  
[0:08:13](https://youtu.be/APUCMSPiNh4?t=493) outcome  
[0:08:13](https://youtu.be/APUCMSPiNh4?t=493) so what stands in our way  
[0:08:17](https://youtu.be/APUCMSPiNh4?t=497) so John Carmack sort of Gaines  
[0:08:22](https://youtu.be/APUCMSPiNh4?t=502) programmer extraordinaire made this  
[0:08:25](https://youtu.be/APUCMSPiNh4?t=505) observation in a functional programming  
[0:08:27](https://youtu.be/APUCMSPiNh4?t=507) in C++ article a few years ago a large  
[0:08:32](https://youtu.be/APUCMSPiNh4?t=512) fraction of the flaws in software  
[0:08:33](https://youtu.be/APUCMSPiNh4?t=513) development are due to program is not  
[0:08:35](https://youtu.be/APUCMSPiNh4?t=515) fully understanding all the possible  
[0:08:37](https://youtu.be/APUCMSPiNh4?t=517) states their code may execute in and I  
[0:08:40](https://youtu.be/APUCMSPiNh4?t=520) think this is quite important because  
[0:08:42](https://youtu.be/APUCMSPiNh4?t=522) what we end up with was sort of a  
[0:08:46](https://youtu.be/APUCMSPiNh4?t=526) failure to understand the consequences  
[0:08:48](https://youtu.be/APUCMSPiNh4?t=528) of the simplest choices in our code  
[0:08:51](https://youtu.be/APUCMSPiNh4?t=531) um Sony does anybody know where this  
[0:08:54](https://youtu.be/APUCMSPiNh4?t=534) comes from  
[0:08:55](https://youtu.be/APUCMSPiNh4?t=535) yeah well games excellent you if you  
[0:08:58](https://youtu.be/APUCMSPiNh4?t=538) don't know what wargames is you have  
[0:09:00](https://youtu.be/APUCMSPiNh4?t=540) between now and the film release of  
[0:09:02](https://youtu.be/APUCMSPiNh4?t=542) ready player one to figure it out  
[0:09:03](https://youtu.be/APUCMSPiNh4?t=543) because otherwise you won't get anything  
[0:09:05](https://youtu.be/APUCMSPiNh4?t=545) yeah okay  
[0:09:06](https://youtu.be/APUCMSPiNh4?t=546) so I was I grew up in the 1980s and this  
[0:09:10](https://youtu.be/APUCMSPiNh4?t=550) was this is what we worried about  
[0:09:11](https://youtu.be/APUCMSPiNh4?t=551) nuclear war  
[0:09:13](https://youtu.be/APUCMSPiNh4?t=553) so hey no change I'm you know I'm really  
[0:09:16](https://youtu.be/APUCMSPiNh4?t=556) glad that my kids can get the same kind  
[0:09:17](https://youtu.be/APUCMSPiNh4?t=557) of experience of like the threat you  
[0:09:19](https://youtu.be/APUCMSPiNh4?t=559) know it's just like hey sons this is  
[0:09:21](https://youtu.be/APUCMSPiNh4?t=561) what it means your imminent apocalypse  
[0:09:23](https://youtu.be/APUCMSPiNh4?t=563) you know the world is on the edge here  
[0:09:25](https://youtu.be/APUCMSPiNh4?t=565) so it turns out I have watched this with  
[0:09:28](https://youtu.be/APUCMSPiNh4?t=568) my oldest son the minute we were able to  
[0:09:32](https://youtu.be/APUCMSPiNh4?t=572) cut me back to three years ago and it  
[0:09:35](https://youtu.be/APUCMSPiNh4?t=575) was so funny after after we watched it  
[0:09:36](https://youtu.be/APUCMSPiNh4?t=576) he said dad can we program an AI it's  
[0:09:39](https://youtu.be/APUCMSPiNh4?t=579) just like okay that's a little ambitious  
[0:09:41](https://youtu.be/APUCMSPiNh4?t=581) but let's just start with some Python  
[0:09:43](https://youtu.be/APUCMSPiNh4?t=583) here so how to get kids into programming  
[0:09:45](https://youtu.be/APUCMSPiNh4?t=585) I want to create a malevolent or you  
[0:09:49](https://youtu.be/APUCMSPiNh4?t=589) know no amoral I so the reason I  
[0:09:52](https://youtu.be/APUCMSPiNh4?t=592) introduced this here because things  
[0:09:55](https://youtu.be/APUCMSPiNh4?t=595) could get out of control very rapidly  
[0:09:57](https://youtu.be/APUCMSPiNh4?t=597) you end up with global state problems  
[0:09:59](https://youtu.be/APUCMSPiNh4?t=599) you can end up with global thermonuclear  
[0:10:01](https://youtu.be/APUCMSPiNh4?t=601) war and the observation that John Cox  
[0:10:04](https://youtu.be/APUCMSPiNh4?t=604) furthermore and this is another concern  
[0:10:06](https://youtu.be/APUCMSPiNh4?t=606) that people have suddenly discovered  
[0:10:07](https://youtu.be/APUCMSPiNh4?t=607) they have in a multi-threaded  
[0:10:10](https://youtu.be/APUCMSPiNh4?t=610) environment the lack of understanding in  
[0:10:11](https://youtu.be/APUCMSPiNh4?t=611) the resulting problems are greatly  
[0:10:13](https://youtu.be/APUCMSPiNh4?t=613) amplified almost to the point of panic  
[0:10:15](https://youtu.be/APUCMSPiNh4?t=615) if you are paying attention now I love  
[0:10:18](https://youtu.be/APUCMSPiNh4?t=618) that sentence if you are paying  
[0:10:20](https://youtu.be/APUCMSPiNh4?t=620) attention if you are not panicking you  
[0:10:22](https://youtu.be/APUCMSPiNh4?t=622) and everybody else around you is  
[0:10:24](https://youtu.be/APUCMSPiNh4?t=624) somewhat concerned you have missed  
[0:10:26](https://youtu.be/APUCMSPiNh4?t=626) something you're either in a very happy  
[0:10:28](https://youtu.be/APUCMSPiNh4?t=628) place and you it all works for you or  
[0:10:30](https://youtu.be/APUCMSPiNh4?t=630) you have missed something  
[0:10:32](https://youtu.be/APUCMSPiNh4?t=632) now I'm not a I'm not a gambling man but  
[0:10:34](https://youtu.be/APUCMSPiNh4?t=634) I'm gonna put my money on you missed  
[0:10:36](https://youtu.be/APUCMSPiNh4?t=636) something okay if you are paying  
[0:10:38](https://youtu.be/APUCMSPiNh4?t=638) attention so um as I said I was a child  
[0:10:42](https://youtu.be/APUCMSPiNh4?t=642) the 80s this is this was a there was a  
[0:10:46](https://youtu.be/APUCMSPiNh4?t=646) we just out leverage context here  
[0:10:49](https://youtu.be/APUCMSPiNh4?t=649) threats did anybody see that so for that  
[0:10:53](https://youtu.be/APUCMSPiNh4?t=653) yeah just a handful you have to be of a  
[0:10:54](https://youtu.be/APUCMSPiNh4?t=654) particular age and have to have grown up  
[0:10:57](https://youtu.be/APUCMSPiNh4?t=657) in the UK and been of a telly viewing  
[0:11:01](https://youtu.be/APUCMSPiNh4?t=661) age appropriate age this was horrific  
[0:11:04](https://youtu.be/APUCMSPiNh4?t=664) this was a TV prat well a docudrama  
[0:11:08](https://youtu.be/APUCMSPiNh4?t=668) about a bomb drop over Sheffield and  
[0:11:12](https://youtu.be/APUCMSPiNh4?t=672) there an air boast over Sheffield it was  
[0:11:15](https://youtu.be/APUCMSPiNh4?t=675) utterly horrific it came the year after  
[0:11:17](https://youtu.be/APUCMSPiNh4?t=677) an American film about nuclear war it's  
[0:11:22](https://youtu.be/APUCMSPiNh4?t=682) called the day after it made nuclear war  
[0:11:24](https://youtu.be/APUCMSPiNh4?t=684) look quite moderately Pleasant it was  
[0:11:25](https://youtu.be/APUCMSPiNh4?t=685) sort of like sort of Dallas or dynasty  
[0:11:27](https://youtu.be/APUCMSPiNh4?t=687) with bombs this one pulled no punches it  
[0:11:32](https://youtu.be/APUCMSPiNh4?t=692) was utterly utterly horrifying I'm going  
[0:11:34](https://youtu.be/APUCMSPiNh4?t=694) to school the next day and we just sat  
[0:11:35](https://youtu.be/APUCMSPiNh4?t=695) there kind of like slack jaws Wow  
[0:11:37](https://youtu.be/APUCMSPiNh4?t=697) that is scary stuff but the program is  
[0:11:40](https://youtu.be/APUCMSPiNh4?t=700) called threats that's what I want to put  
[0:11:42](https://youtu.be/APUCMSPiNh4?t=702) in your mind okay threads this is how  
[0:11:45](https://youtu.be/APUCMSPiNh4?t=705) you think about threats okay this is  
[0:11:48](https://youtu.be/APUCMSPiNh4?t=708) this is what you need to be thinking you  
[0:11:50](https://youtu.be/APUCMSPiNh4?t=710) know ultimately atomic war or lack of  
[0:11:53](https://youtu.be/APUCMSPiNh4?t=713) atomic war normally what happens with  
[0:11:55](https://youtu.be/APUCMSPiNh4?t=715) this is when people think threads what  
[0:11:57](https://youtu.be/APUCMSPiNh4?t=717) they think of is locks there's a kind of  
[0:11:59](https://youtu.be/APUCMSPiNh4?t=719) a built-in Association in many people's  
[0:12:02](https://youtu.be/APUCMSPiNh4?t=722) minds you say threads they say locks  
[0:12:03](https://youtu.be/APUCMSPiNh4?t=723) okay and what they're doing is why don't  
[0:12:06](https://youtu.be/APUCMSPiNh4?t=726) we why do we have this association  
[0:12:08](https://youtu.be/APUCMSPiNh4?t=728) people often say well I want to use  
[0:12:10](https://youtu.be/APUCMSPiNh4?t=730) locks for safety okay  
[0:12:14](https://youtu.be/APUCMSPiNh4?t=734) let's pause a moment why is your code  
[0:12:16](https://youtu.be/APUCMSPiNh4?t=736) unsafe what line of reasoning calls you  
[0:12:19](https://youtu.be/APUCMSPiNh4?t=739) to create code that is unsafe so I drew  
[0:12:24](https://youtu.be/APUCMSPiNh4?t=744) up during a workshop a few years ago I  
[0:12:26](https://youtu.be/APUCMSPiNh4?t=746) drew up a simple quadrant diagram and  
[0:12:29](https://youtu.be/APUCMSPiNh4?t=749) given that it's the afternoon and your  
[0:12:31](https://youtu.be/APUCMSPiNh4?t=751) brains have gone in to carve oh slump  
[0:12:33](https://youtu.be/APUCMSPiNh4?t=753) this is about as far as we're going to  
[0:12:36](https://youtu.be/APUCMSPiNh4?t=756) go here this is what we need a quadrant  
[0:12:37](https://youtu.be/APUCMSPiNh4?t=757) diagram it's nice and easy to reason  
[0:12:38](https://youtu.be/APUCMSPiNh4?t=758) about and basically we can divide up the  
[0:12:41](https://youtu.be/APUCMSPiNh4?t=761) relationship between behavior and state  
[0:12:43](https://youtu.be/APUCMSPiNh4?t=763) in your program very very easily  
[0:12:46](https://youtu.be/APUCMSPiNh4?t=766) your state can be shared between threads  
[0:12:49](https://youtu.be/APUCMSPiNh4?t=769) simultaneously or it can be unsure okay  
[0:12:53](https://youtu.be/APUCMSPiNh4?t=773) that state can be mutable or immutable  
[0:12:56](https://youtu.be/APUCMSPiNh4?t=776) now that gives us a rather interesting  
[0:12:58](https://youtu.be/APUCMSPiNh4?t=778) diagram here of where we actually need  
[0:13:02](https://youtu.be/APUCMSPiNh4?t=782) to lock stuff all so let's just make  
[0:13:08](https://youtu.be/APUCMSPiNh4?t=788) this really clear as with any quadrant  
[0:13:10](https://youtu.be/APUCMSPiNh4?t=790) diagram normally one quadrant is very  
[0:13:12](https://youtu.be/APUCMSPiNh4?t=792) very good or one quadrant is very very  
[0:13:13](https://youtu.be/APUCMSPiNh4?t=793) bad in this case it's very very bad okay  
[0:13:16](https://youtu.be/APUCMSPiNh4?t=796) and just so we're there's no there's  
[0:13:18](https://youtu.be/APUCMSPiNh4?t=798) doubt I've used the universal color for  
[0:13:20](https://youtu.be/APUCMSPiNh4?t=800) danger here this is red and you know in  
[0:13:25](https://youtu.be/APUCMSPiNh4?t=805) some cultures red is the color of  
[0:13:27](https://youtu.be/APUCMSPiNh4?t=807) celebration that's the consultants and  
[0:13:31](https://youtu.be/APUCMSPiNh4?t=811) this is the synchronization quadrant I  
[0:13:33](https://youtu.be/APUCMSPiNh4?t=813) want you to I want to point out that one  
[0:13:37](https://youtu.be/APUCMSPiNh4?t=817) quarter of the diagram is bad the other  
[0:13:39](https://youtu.be/APUCMSPiNh4?t=819) three quarters all is good and life is  
[0:13:41](https://youtu.be/APUCMSPiNh4?t=821) simple because if you if you are not  
[0:13:44](https://youtu.be/APUCMSPiNh4?t=824) sharing data you can do what you want  
[0:13:46](https://youtu.be/APUCMSPiNh4?t=826) with her if this thread has this data  
[0:13:49](https://youtu.be/APUCMSPiNh4?t=829) and nobody else ever gets to see it  
[0:13:51](https://youtu.be/APUCMSPiNh4?t=831) then we're good or if they get to see it  
[0:13:54](https://youtu.be/APUCMSPiNh4?t=834) it's only after it is handed off  
[0:13:55](https://youtu.be/APUCMSPiNh4?t=835) explicitly in other words it's only one  
[0:13:57](https://youtu.be/APUCMSPiNh4?t=837) thread at a time we have unique and  
[0:13:59](https://youtu.be/APUCMSPiNh4?t=839) exclusive ownership you can make it  
[0:14:02](https://youtu.be/APUCMSPiNh4?t=842) mutable you can make it immutable the  
[0:14:03](https://youtu.be/APUCMSPiNh4?t=843) point is that no change will be visible  
[0:14:05](https://youtu.be/APUCMSPiNh4?t=845) to anybody else alternatively you make  
[0:14:09](https://youtu.be/APUCMSPiNh4?t=849) everything unchangeable immutable  
[0:14:10](https://youtu.be/APUCMSPiNh4?t=850) therefore you can share with impunity  
[0:14:12](https://youtu.be/APUCMSPiNh4?t=852) and that's great you don't need to do  
[0:14:14](https://youtu.be/APUCMSPiNh4?t=854) any locking now there may be locking  
[0:14:17](https://youtu.be/APUCMSPiNh4?t=857) when I say you I mean you as a developer  
[0:14:19](https://youtu.be/APUCMSPiNh4?t=859) you don't need to take this stuff into  
[0:14:21](https://youtu.be/APUCMSPiNh4?t=861) account if you are using cues to hand  
[0:14:23](https://youtu.be/APUCMSPiNh4?t=863) off relationships from one place to  
[0:14:26](https://youtu.be/APUCMSPiNh4?t=866) another then clearly there will be locks  
[0:14:28](https://youtu.be/APUCMSPiNh4?t=868) at some level but I'm saying those are  
[0:14:29](https://youtu.be/APUCMSPiNh4?t=869) commoditized locks that's not something  
[0:14:30](https://youtu.be/APUCMSPiNh4?t=870) you as a developer have to be concerned  
[0:14:33](https://youtu.be/APUCMSPiNh4?t=873) about or put it another way you are not  
[0:14:35](https://youtu.be/APUCMSPiNh4?t=875) given the privilege or the ability to  
[0:14:37](https://youtu.be/APUCMSPiNh4?t=877) get it wrong okay you are not given that  
[0:14:40](https://youtu.be/APUCMSPiNh4?t=880) degree of freedom you hand something off  
[0:14:42](https://youtu.be/APUCMSPiNh4?t=882) to a queue and it's just like no queue  
[0:14:43](https://youtu.be/APUCMSPiNh4?t=883) I'm going to mess with your locking  
[0:14:44](https://youtu.be/APUCMSPiNh4?t=884) strategies you don't get that option so  
[0:14:48](https://youtu.be/APUCMSPiNh4?t=888) this is the curious thing why do we end  
[0:14:50](https://youtu.be/APUCMSPiNh4?t=890) up with you know we seem to be like  
[0:14:53](https://youtu.be/APUCMSPiNh4?t=893) moths drawn to the flame of the top  
[0:14:55](https://youtu.be/APUCMSPiNh4?t=895) right hand corner how do we end up with  
[0:14:57](https://youtu.be/APUCMSPiNh4?t=897) all our code in the red zone in the  
[0:14:59](https://youtu.be/APUCMSPiNh4?t=899) synchronization quadrant the quadrant  
[0:15:01](https://youtu.be/APUCMSPiNh4?t=901) where we are most likely to make the  
[0:15:03](https://youtu.be/APUCMSPiNh4?t=903) errors most likely to struggle with our  
[0:15:06](https://youtu.be/APUCMSPiNh4?t=906) reasoning and also the area most likely  
[0:15:11](https://youtu.be/APUCMSPiNh4?t=911) to slow down your code it is always  
[0:15:13](https://youtu.be/APUCMSPiNh4?t=913) remembering that the point of a lock is  
[0:15:14](https://youtu.be/APUCMSPiNh4?t=914) is to stop concurrency yeah as I noticed  
[0:15:18](https://youtu.be/APUCMSPiNh4?t=918) on the wall here admiring the traffic  
[0:15:20](https://youtu.be/APUCMSPiNh4?t=920) because Westminster Bridge has been  
[0:15:22](https://youtu.be/APUCMSPiNh4?t=922) closed so there is a point how do we end  
[0:15:25](https://youtu.be/APUCMSPiNh4?t=925) up in this quadrant why we why why is  
[0:15:28](https://youtu.be/APUCMSPiNh4?t=928) all the reasoning in our languages  
[0:15:29](https://youtu.be/APUCMSPiNh4?t=929) gravitated towards that why is it  
[0:15:31](https://youtu.be/APUCMSPiNh4?t=931) reflect  
[0:15:31](https://youtu.be/APUCMSPiNh4?t=931) in our languages so once upon a time we  
[0:15:34](https://youtu.be/APUCMSPiNh4?t=934) did not have all this stuff so let's  
[0:15:36](https://youtu.be/APUCMSPiNh4?t=936) just pick on C for a moment okay C does  
[0:15:41](https://youtu.be/APUCMSPiNh4?t=941) not have any primitive constructs for  
[0:15:43](https://youtu.be/APUCMSPiNh4?t=943) threading it eventually is eventually so  
[0:15:46](https://youtu.be/APUCMSPiNh4?t=946) basically all the API is ultimately end  
[0:15:48](https://youtu.be/APUCMSPiNh4?t=948) up in C and the constructs like locks  
[0:15:51](https://youtu.be/APUCMSPiNh4?t=951) mutexes to acquire and release those are  
[0:15:54](https://youtu.be/APUCMSPiNh4?t=954) built into libraries so then we have  
[0:15:57](https://youtu.be/APUCMSPiNh4?t=957) Java coming along in the mid-90s saying  
[0:16:00](https://youtu.be/APUCMSPiNh4?t=960) you know what we can have a built-in  
[0:16:01](https://youtu.be/APUCMSPiNh4?t=961) statement to synchronize block and then  
[0:16:04](https://youtu.be/APUCMSPiNh4?t=964) c-sharp reflected that with its lock  
[0:16:07](https://youtu.be/APUCMSPiNh4?t=967) block so these these were initially seen  
[0:16:09](https://youtu.be/APUCMSPiNh4?t=969) as an improvement we have the ability to  
[0:16:11](https://youtu.be/APUCMSPiNh4?t=971) synchronize built into the language  
[0:16:13](https://youtu.be/APUCMSPiNh4?t=973) along with if statements but if we pause  
[0:16:15](https://youtu.be/APUCMSPiNh4?t=975) from home we realize it's actually a  
[0:16:17](https://youtu.be/APUCMSPiNh4?t=977) step backwards or rather step in the  
[0:16:18](https://youtu.be/APUCMSPiNh4?t=978) wrong direction we can monetize the  
[0:16:20](https://youtu.be/APUCMSPiNh4?t=980) wrong thing because what we've ended up  
[0:16:22](https://youtu.be/APUCMSPiNh4?t=982) with is an encouragement that hey locks  
[0:16:24](https://youtu.be/APUCMSPiNh4?t=984) are easy you can stop your program  
[0:16:26](https://youtu.be/APUCMSPiNh4?t=986) really easily you can slow it down  
[0:16:27](https://youtu.be/APUCMSPiNh4?t=987) that's what these are that's what these  
[0:16:29](https://youtu.be/APUCMSPiNh4?t=989) constructs are for they are the  
[0:16:30](https://youtu.be/APUCMSPiNh4?t=990) elimination of concurrency so  
[0:16:33](https://youtu.be/APUCMSPiNh4?t=993) historically there was actually very  
[0:16:34](https://youtu.be/APUCMSPiNh4?t=994) simple answer let's go back to C once  
[0:16:36](https://youtu.be/APUCMSPiNh4?t=996) upon a time all your code was naturally  
[0:16:38](https://youtu.be/APUCMSPiNh4?t=998) on the left hand side because you  
[0:16:40](https://youtu.be/APUCMSPiNh4?t=1000) couldn't you couldn't share between  
[0:16:42](https://youtu.be/APUCMSPiNh4?t=1002) threads because you didn't have threads  
[0:16:43](https://youtu.be/APUCMSPiNh4?t=1003) that was easy yeah so all the code  
[0:16:45](https://youtu.be/APUCMSPiNh4?t=1005) gravitates to the left-hand side and for  
[0:16:47](https://youtu.be/APUCMSPiNh4?t=1007) reasons of history in other words  
[0:16:51](https://youtu.be/APUCMSPiNh4?t=1011) programming languages growing out of an  
[0:16:53](https://youtu.be/APUCMSPiNh4?t=1013) imperative model assembler as well as  
[0:16:55](https://youtu.be/APUCMSPiNh4?t=1015) resource constraints and I know people  
[0:16:59](https://youtu.be/APUCMSPiNh4?t=1019) are always complaining about resource  
[0:17:00](https://youtu.be/APUCMSPiNh4?t=1020) constraints and I did have somebody  
[0:17:01](https://youtu.be/APUCMSPiNh4?t=1021) complain about some of the techniques I  
[0:17:03](https://youtu.be/APUCMSPiNh4?t=1023) was proposing for a particular project  
[0:17:06](https://youtu.be/APUCMSPiNh4?t=1026) was a couple of years ago and he said  
[0:17:08](https://youtu.be/APUCMSPiNh4?t=1028) yeah I don't know if we can do this on  
[0:17:09](https://youtu.be/APUCMSPiNh4?t=1029) our project cuz it's embedded and we may  
[0:17:11](https://youtu.be/APUCMSPiNh4?t=1031) not have the memory resources and I said  
[0:17:13](https://youtu.be/APUCMSPiNh4?t=1033) so what what what kind of memory  
[0:17:15](https://youtu.be/APUCMSPiNh4?t=1035) resources are we talking here  
[0:17:16](https://youtu.be/APUCMSPiNh4?t=1036) what kind of constraint what kind of  
[0:17:18](https://youtu.be/APUCMSPiNh4?t=1038) hardship are you working on her and he  
[0:17:19](https://youtu.be/APUCMSPiNh4?t=1039) said 128 megabytes and I said get back  
[0:17:22](https://youtu.be/APUCMSPiNh4?t=1042) to me when you have a problem yeah you  
[0:17:25](https://youtu.be/APUCMSPiNh4?t=1045) know this at this point I'm gonna start  
[0:17:26](https://youtu.be/APUCMSPiNh4?t=1046) saying you know when I was a lad you  
[0:17:28](https://youtu.be/APUCMSPiNh4?t=1048) know you're lucky if you got two bits to  
[0:17:29](https://youtu.be/APUCMSPiNh4?t=1049) rub together ones and zeroes no no we  
[0:17:32](https://youtu.be/APUCMSPiNh4?t=1052) didn't get both yeah so the point here  
[0:17:35](https://youtu.be/APUCMSPiNh4?t=1055) is that that naturally drew all the code  
[0:17:40](https://youtu.be/APUCMSPiNh4?t=1060) and a lot top left hand side when  
[0:17:43](https://youtu.be/APUCMSPiNh4?t=1063) threading became commoditized it just  
[0:17:45](https://youtu.be/APUCMSPiNh4?t=1065) opened up this new territory on the  
[0:17:47](https://youtu.be/APUCMSPiNh4?t=1067) right hand side so we naturally wandered  
[0:17:49](https://youtu.be/APUCMSPiNh4?t=1069) over hey look we've got procedural  
[0:17:50](https://youtu.be/APUCMSPiNh4?t=1070) thinking let's just add threads to it  
[0:17:53](https://youtu.be/APUCMSPiNh4?t=1073) and excitement followed so let's talk  
[0:17:56](https://youtu.be/APUCMSPiNh4?t=1076) about the idea that this is  
[0:17:58](https://youtu.be/APUCMSPiNh4?t=1078) architectural it's not many a language  
[0:18:00](https://youtu.be/APUCMSPiNh4?t=1080) construct architecture represents the  
[0:18:02](https://youtu.be/APUCMSPiNh4?t=1082) significant design decisions that shape  
[0:18:03](https://youtu.be/APUCMSPiNh4?t=1083) a system where significant is measured  
[0:18:06](https://youtu.be/APUCMSPiNh4?t=1086) by cost of change it turns out taking a  
[0:18:07](https://youtu.be/APUCMSPiNh4?t=1087) code base that has an assumption of I  
[0:18:12](https://youtu.be/APUCMSPiNh4?t=1092) can change anything and turning into a  
[0:18:15](https://youtu.be/APUCMSPiNh4?t=1095) code base where that's not the case is  
[0:18:17](https://youtu.be/APUCMSPiNh4?t=1097) non-trivial it's not just simply a case  
[0:18:20](https://youtu.be/APUCMSPiNh4?t=1100) of creating new code in an immutable  
[0:18:22](https://youtu.be/APUCMSPiNh4?t=1102) style there is a genuine challenge here  
[0:18:25](https://youtu.be/APUCMSPiNh4?t=1105) and the appreciation it's not it's not a  
[0:18:28](https://youtu.be/APUCMSPiNh4?t=1108) new appreciation the term technical debt  
[0:18:31](https://youtu.be/APUCMSPiNh4?t=1111) dates to 1992 that was Ward Cunningham  
[0:18:33](https://youtu.be/APUCMSPiNh4?t=1113) Meyer layman wrote this in 1980 as an  
[0:18:36](https://youtu.be/APUCMSPiNh4?t=1116) evolving program has continually changed  
[0:18:38](https://youtu.be/APUCMSPiNh4?t=1118) its complexity reflecting deteriorating  
[0:18:40](https://youtu.be/APUCMSPiNh4?t=1120) structure increases and less work is  
[0:18:42](https://youtu.be/APUCMSPiNh4?t=1122) done to maintain or reduce it so what  
[0:18:46](https://youtu.be/APUCMSPiNh4?t=1126) we're dealing with is the problem that  
[0:18:47](https://youtu.be/APUCMSPiNh4?t=1127) somebody said immutability is really  
[0:18:49](https://youtu.be/APUCMSPiNh4?t=1129) nice but what we have here is a legacy  
[0:18:53](https://youtu.be/APUCMSPiNh4?t=1133) system we have the past being an  
[0:18:58](https://youtu.be/APUCMSPiNh4?t=1138) incurable romantic I took my wife and  
[0:19:02](https://youtu.be/APUCMSPiNh4?t=1142) kids to Stonehenge last year on  
[0:19:04](https://youtu.be/APUCMSPiNh4?t=1144) Valentine's Day you know why wouldn't  
[0:19:06](https://youtu.be/APUCMSPiNh4?t=1146) you and yeah I took I took this shot and  
[0:19:10](https://youtu.be/APUCMSPiNh4?t=1150) the kids were impressed by the size of  
[0:19:12](https://youtu.be/APUCMSPiNh4?t=1152) these monoliths monolith us coming from  
[0:19:15](https://youtu.be/APUCMSPiNh4?t=1155) the as a monolith comes from the Greek  
[0:19:17](https://youtu.be/APUCMSPiNh4?t=1157) monolith us meaning one stone big stone  
[0:19:21](https://youtu.be/APUCMSPiNh4?t=1161) hard to move stone so you know it makes  
[0:19:23](https://youtu.be/APUCMSPiNh4?t=1163) it makes that experience of your legacy  
[0:19:25](https://youtu.be/APUCMSPiNh4?t=1165) system feel real you can't move these  
[0:19:28](https://youtu.be/APUCMSPiNh4?t=1168) easily or you're wondering how people  
[0:19:30](https://youtu.be/APUCMSPiNh4?t=1170) move them at all and this becomes the  
[0:19:32](https://youtu.be/APUCMSPiNh4?t=1172) challenge so whence comes somebody comes  
[0:19:34](https://youtu.be/APUCMSPiNh4?t=1174) along and says you know you need to  
[0:19:35](https://youtu.be/APUCMSPiNh4?t=1175) refactor we look at this and we say a  
[0:19:37](https://youtu.be/APUCMSPiNh4?t=1177) change made the internal structure of  
[0:19:39](https://youtu.be/APUCMSPiNh4?t=1179) software to make it easier to understand  
[0:19:40](https://youtu.be/APUCMSPiNh4?t=1180) the cheaper to modify without changing  
[0:19:42](https://youtu.be/APUCMSPiNh4?t=1182) this observable behavior how much change  
[0:19:43](https://youtu.be/APUCMSPiNh4?t=1183) is that to change something that  
[0:19:45](https://youtu.be/APUCMSPiNh4?t=1185) naturally assumes everything is  
[0:19:47](https://youtu.be/APUCMSPiNh4?t=1187) changeable into something that is more  
[0:19:49](https://youtu.be/APUCMSPiNh4?t=1189) local based on data flow objects is  
[0:19:53](https://youtu.be/APUCMSPiNh4?t=1193) non-trivial so some of these may end up  
[0:19:56](https://youtu.be/APUCMSPiNh4?t=1196) being big refactorings so what  
[0:19:58](https://youtu.be/APUCMSPiNh4?t=1198) focus on here is the developmental side  
[0:20:00](https://youtu.be/APUCMSPiNh4?t=1200) you can kind of look at any software  
[0:20:03](https://youtu.be/APUCMSPiNh4?t=1203) system and break in along roughly it's  
[0:20:06](https://youtu.be/APUCMSPiNh4?t=1206) an approximate right-hand rule given  
[0:20:08](https://youtu.be/APUCMSPiNh4?t=1208) that my fingers are not at right angles  
[0:20:09](https://youtu.be/APUCMSPiNh4?t=1209) I don't have any problem saying that  
[0:20:10](https://youtu.be/APUCMSPiNh4?t=1210) these axes are not perfectly at right  
[0:20:12](https://youtu.be/APUCMSPiNh4?t=1212) angles either but we can break it down  
[0:20:14](https://youtu.be/APUCMSPiNh4?t=1214) functional behavior operational behavior  
[0:20:16](https://youtu.be/APUCMSPiNh4?t=1216) execution use of resources performance  
[0:20:18](https://youtu.be/APUCMSPiNh4?t=1218) all this kind of stuff and developmental  
[0:20:20](https://youtu.be/APUCMSPiNh4?t=1220) qualities refactoring concerns itself  
[0:20:22](https://youtu.be/APUCMSPiNh4?t=1222) with the developmental dimension in  
[0:20:25](https://youtu.be/APUCMSPiNh4?t=1225) other words you keep the functional  
[0:20:27](https://youtu.be/APUCMSPiNh4?t=1227) behavior the same you preserve the  
[0:20:30](https://youtu.be/APUCMSPiNh4?t=1230) semantic behavior when you refactor that  
[0:20:33](https://youtu.be/APUCMSPiNh4?t=1233) is preserved developmental quality  
[0:20:34](https://youtu.be/APUCMSPiNh4?t=1234) hopefully improves and the operational  
[0:20:35](https://youtu.be/APUCMSPiNh4?t=1235) can go one way or the other if you're  
[0:20:37](https://youtu.be/APUCMSPiNh4?t=1237) optimizing something the goal is  
[0:20:38](https://youtu.be/APUCMSPiNh4?t=1238) slightly different you keep the  
[0:20:40](https://youtu.be/APUCMSPiNh4?t=1240) functionality the same you improve some  
[0:20:42](https://youtu.be/APUCMSPiNh4?t=1242) aspect of performance but the  
[0:20:43](https://youtu.be/APUCMSPiNh4?t=1243) developmental quality may suffer so this  
[0:20:46](https://youtu.be/APUCMSPiNh4?t=1246) is kind of an important idea the  
[0:20:47](https://youtu.be/APUCMSPiNh4?t=1247) preservation of functionality and  
[0:20:50](https://youtu.be/APUCMSPiNh4?t=1250) functional behavior there's no good  
[0:20:52](https://youtu.be/APUCMSPiNh4?t=1252) having an optimization that breaks so  
[0:20:55](https://youtu.be/APUCMSPiNh4?t=1255) I'm looking at you  
[0:20:56](https://youtu.be/APUCMSPiNh4?t=1256) specter and meltdown people are saying  
[0:20:58](https://youtu.be/APUCMSPiNh4?t=1258) oh that's Hardware fault no it's  
[0:21:00](https://youtu.be/APUCMSPiNh4?t=1260) actually a software fault hardware it's  
[0:21:02](https://youtu.be/APUCMSPiNh4?t=1262) software okay the way that those are  
[0:21:04](https://youtu.be/APUCMSPiNh4?t=1264) structured so how do we do this we have  
[0:21:08](https://youtu.be/APUCMSPiNh4?t=1268) a bit of a problem because it's not that  
[0:21:11](https://youtu.be/APUCMSPiNh4?t=1271) when you walk away you don't have  
[0:21:13](https://youtu.be/APUCMSPiNh4?t=1273) knowledge of a number of techniques and  
[0:21:15](https://youtu.be/APUCMSPiNh4?t=1275) functional ideas or immutable techniques  
[0:21:17](https://youtu.be/APUCMSPiNh4?t=1277) for your objects the problem comes that  
[0:21:20](https://youtu.be/APUCMSPiNh4?t=1280) you may find yourself working uphill or  
[0:21:23](https://youtu.be/APUCMSPiNh4?t=1283) working against the grain as observed  
[0:21:26](https://youtu.be/APUCMSPiNh4?t=1286) here many programming languages support  
[0:21:27](https://youtu.be/APUCMSPiNh4?t=1287) programming both functional and  
[0:21:28](https://youtu.be/APUCMSPiNh4?t=1288) imperative style but the syntax and  
[0:21:30](https://youtu.be/APUCMSPiNh4?t=1290) facilities of a language typically  
[0:21:32](https://youtu.be/APUCMSPiNh4?t=1292) optimized for only one of these styles  
[0:21:34](https://youtu.be/APUCMSPiNh4?t=1294) and this is the most important social  
[0:21:36](https://youtu.be/APUCMSPiNh4?t=1296) factors like coding conventions and  
[0:21:38](https://youtu.be/APUCMSPiNh4?t=1298) libraries often force the programmer  
[0:21:40](https://youtu.be/APUCMSPiNh4?t=1300) towards one of the styles so it turns  
[0:21:42](https://youtu.be/APUCMSPiNh4?t=1302) out programming is a very cultural thing  
[0:21:44](https://youtu.be/APUCMSPiNh4?t=1304) and many of the cases where I've seen  
[0:21:46](https://youtu.be/APUCMSPiNh4?t=1306) coding problems in existing legacy  
[0:21:51](https://youtu.be/APUCMSPiNh4?t=1311) systems it is not because people have  
[0:21:53](https://youtu.be/APUCMSPiNh4?t=1313) been stupid or evil it is simply because  
[0:21:56](https://youtu.be/APUCMSPiNh4?t=1316) the code much as they want to go that  
[0:21:59](https://youtu.be/APUCMSPiNh4?t=1319) way the code wants to go this way all of  
[0:22:01](https://youtu.be/APUCMSPiNh4?t=1321) the libraries all the conventions say no  
[0:22:03](https://youtu.be/APUCMSPiNh4?t=1323) you need a default constructor here no  
[0:22:04](https://youtu.be/APUCMSPiNh4?t=1324) you need to expose these as public no  
[0:22:06](https://youtu.be/APUCMSPiNh4?t=1326) you need to do this to go against it is  
[0:22:09](https://youtu.be/APUCMSPiNh4?t=1329) to basically have a system that does not  
[0:22:10](https://youtu.be/APUCMSPiNh4?t=1330) build which on the other hand is not  
[0:22:12](https://youtu.be/APUCMSPiNh4?t=1332) because then you don't have any bugs and  
[0:22:14](https://youtu.be/APUCMSPiNh4?t=1334) people can't complain about bugs in  
[0:22:15](https://youtu.be/APUCMSPiNh4?t=1335) production it's just you have no  
[0:22:16](https://youtu.be/APUCMSPiNh4?t=1336) production people might complain about  
[0:22:18](https://youtu.be/APUCMSPiNh4?t=1338) that instead so there's a challenge here  
[0:22:22](https://youtu.be/APUCMSPiNh4?t=1342) that said people do often have various  
[0:22:24](https://youtu.be/APUCMSPiNh4?t=1344) habits not all of which are healthy  
[0:22:28](https://youtu.be/APUCMSPiNh4?t=1348) looking at you singleton so that's my  
[0:22:34](https://youtu.be/APUCMSPiNh4?t=1354) singleton that's actually quite a good  
[0:22:35](https://youtu.be/APUCMSPiNh4?t=1355) singleton it's far better than the kind  
[0:22:39](https://youtu.be/APUCMSPiNh4?t=1359) of single since people put in their code  
[0:22:41](https://youtu.be/APUCMSPiNh4?t=1361) but people get into this habit of  
[0:22:43](https://youtu.be/APUCMSPiNh4?t=1363) putting the stuff in so let's deal with  
[0:22:47](https://youtu.be/APUCMSPiNh4?t=1367) this kind of idea listen management we  
[0:22:49](https://youtu.be/APUCMSPiNh4?t=1369) have some kind of clock concept we're  
[0:22:52](https://youtu.be/APUCMSPiNh4?t=1372) gonna have an instance make it global  
[0:22:55](https://youtu.be/APUCMSPiNh4?t=1375) and so we've got clock dot instance  
[0:22:59](https://youtu.be/APUCMSPiNh4?t=1379) there's a singleton there and from that  
[0:23:02](https://youtu.be/APUCMSPiNh4?t=1382) we can get the time of day now and that  
[0:23:05](https://youtu.be/APUCMSPiNh4?t=1385) that's great so everybody universally  
[0:23:06](https://youtu.be/APUCMSPiNh4?t=1386) accesses the clock and there's only one  
[0:23:09](https://youtu.be/APUCMSPiNh4?t=1389) true clock in the system okay what's the  
[0:23:12](https://youtu.be/APUCMSPiNh4?t=1392) example code look like well it looks a  
[0:23:14](https://youtu.be/APUCMSPiNh4?t=1394) bit like that which is anybody come  
[0:23:17](https://youtu.be/APUCMSPiNh4?t=1397) across the law of Demeter Demeter okay  
[0:23:21](https://youtu.be/APUCMSPiNh4?t=1401) not a lot of people it's a slightly  
[0:23:23](https://youtu.be/APUCMSPiNh4?t=1403) obscure Lea named thing it's not nothing  
[0:23:25](https://youtu.be/APUCMSPiNh4?t=1405) to do with Demeter is a clatter who's a  
[0:23:28](https://youtu.be/APUCMSPiNh4?t=1408) figure in classical mythology it's  
[0:23:32](https://youtu.be/APUCMSPiNh4?t=1412) actually to do with the software system  
[0:23:33](https://youtu.be/APUCMSPiNh4?t=1413) that was developed a research system  
[0:23:35](https://youtu.be/APUCMSPiNh4?t=1415) developed in the 1980s and the system  
[0:23:37](https://youtu.be/APUCMSPiNh4?t=1417) was called 2 meter Carl liebherr and  
[0:23:40](https://youtu.be/APUCMSPiNh4?t=1420) others observed that there was a  
[0:23:42](https://youtu.be/APUCMSPiNh4?t=1422) practice that they had adopted which is  
[0:23:44](https://youtu.be/APUCMSPiNh4?t=1424) basically don't create well we would now  
[0:23:47](https://youtu.be/APUCMSPiNh4?t=1427) call it as don't create method chains or  
[0:23:50](https://youtu.be/APUCMSPiNh4?t=1430) train wrecks don't end up with stuff  
[0:23:52](https://youtu.be/APUCMSPiNh4?t=1432) that goes thing dot thing dot thing dot  
[0:23:55](https://youtu.be/APUCMSPiNh4?t=1435) thing we're not talking about fluent  
[0:23:56](https://youtu.be/APUCMSPiNh4?t=1436) api's here we're talking about digging  
[0:23:58](https://youtu.be/APUCMSPiNh4?t=1438) into an object structure I'm gonna get  
[0:24:00](https://youtu.be/APUCMSPiNh4?t=1440) you then I'm gonna dig into something  
[0:24:02](https://youtu.be/APUCMSPiNh4?t=1442) else then I'm gonna dig into something  
[0:24:03](https://youtu.be/APUCMSPiNh4?t=1443) else and then somewhere at the bottom is  
[0:24:05](https://youtu.be/APUCMSPiNh4?t=1445) the value that I'm after problem with  
[0:24:07](https://youtu.be/APUCMSPiNh4?t=1447) that is there is an immense amount of  
[0:24:09](https://youtu.be/APUCMSPiNh4?t=1449) coupling through the intermediate object  
[0:24:11](https://youtu.be/APUCMSPiNh4?t=1451) structure and people's it's a little bit  
[0:24:14](https://youtu.be/APUCMSPiNh4?t=1454) like long URLs to many components their  
[0:24:16](https://youtu.be/APUCMSPiNh4?t=1456) eyes start glazing they very rarely  
[0:24:18](https://youtu.be/APUCMSPiNh4?t=1458) reach the end of the train wreck it  
[0:24:20](https://youtu.be/APUCMSPiNh4?t=1460) turns out that any use of singleton  
[0:24:22](https://youtu.be/APUCMSPiNh4?t=1462) automatically is a violation of the law  
[0:24:24](https://youtu.be/APUCMSPiNh4?t=1464) of Demeter  
[0:24:25](https://youtu.be/APUCMSPiNh4?t=1465) so that's just a minor observation so  
[0:24:27](https://youtu.be/APUCMSPiNh4?t=1467) that's where our code looks like now and  
[0:24:28](https://youtu.be/APUCMSPiNh4?t=1468) so we have the simple question that  
[0:24:33](https://youtu.be/APUCMSPiNh4?t=1473) people often have well you know why  
[0:24:37](https://youtu.be/APUCMSPiNh4?t=1477) should I replace the singleton it makes  
[0:24:38](https://youtu.be/APUCMSPiNh4?t=1478) my code convenient look that's how I get  
[0:24:40](https://youtu.be/APUCMSPiNh4?t=1480) the time of day yeah you know it's  
[0:24:43](https://youtu.be/APUCMSPiNh4?t=1483) really easy now you have a bit of a  
[0:24:44](https://youtu.be/APUCMSPiNh4?t=1484) problem um first of all I'm gonna I I've  
[0:24:48](https://youtu.be/APUCMSPiNh4?t=1488) got I gotta put really good money on the  
[0:24:50](https://youtu.be/APUCMSPiNh4?t=1490) fact that although I've got three time  
[0:24:52](https://youtu.be/APUCMSPiNh4?t=1492) devices I've got one of these I've got  
[0:24:54](https://youtu.be/APUCMSPiNh4?t=1494) phone and I've got a laptop I'm prepared  
[0:24:58](https://youtu.be/APUCMSPiNh4?t=1498) to put money on the fact they do not  
[0:24:59](https://youtu.be/APUCMSPiNh4?t=1499) tell the same time it turns out that  
[0:25:01](https://youtu.be/APUCMSPiNh4?t=1501) clocks have different times I have  
[0:25:04](https://youtu.be/APUCMSPiNh4?t=1504) worked on an embedded system where we  
[0:25:06](https://youtu.be/APUCMSPiNh4?t=1506) actually had two different clocks and  
[0:25:07](https://youtu.be/APUCMSPiNh4?t=1507) you had a choice of where you got your  
[0:25:08](https://youtu.be/APUCMSPiNh4?t=1508) time from it was to do with granularity  
[0:25:11](https://youtu.be/APUCMSPiNh4?t=1511) and purpose of the clock so first of all  
[0:25:13](https://youtu.be/APUCMSPiNh4?t=1513) we said there was only one universal  
[0:25:14](https://youtu.be/APUCMSPiNh4?t=1514) clock now that may be true for your  
[0:25:15](https://youtu.be/APUCMSPiNh4?t=1515) system but we do have another  
[0:25:18](https://youtu.be/APUCMSPiNh4?t=1518) interesting question how am I going to  
[0:25:19](https://youtu.be/APUCMSPiNh4?t=1519) test this how am I gonna unit test this  
[0:25:21](https://youtu.be/APUCMSPiNh4?t=1521) I can't unit test it oh that's fine run  
[0:25:24](https://youtu.be/APUCMSPiNh4?t=1524) it as administrator and change the time  
[0:25:26](https://youtu.be/APUCMSPiNh4?t=1526) for your unit test at this point you  
[0:25:29](https://youtu.be/APUCMSPiNh4?t=1529) will discover that the answer to the  
[0:25:30](https://youtu.be/APUCMSPiNh4?t=1530) question are we alone is no because  
[0:25:33](https://youtu.be/APUCMSPiNh4?t=1533) there are other things running on your  
[0:25:34](https://youtu.be/APUCMSPiNh4?t=1534) machine that may have a strong opinion  
[0:25:35](https://youtu.be/APUCMSPiNh4?t=1535) about you messing about with time you  
[0:25:37](https://youtu.be/APUCMSPiNh4?t=1537) are not a Time Lord okay oh well within  
[0:25:40](https://youtu.be/APUCMSPiNh4?t=1540) a certain constraint you are but but  
[0:25:44](https://youtu.be/APUCMSPiNh4?t=1544) this convenience what have we done  
[0:25:45](https://youtu.be/APUCMSPiNh4?t=1545) we haven't actually made anything that  
[0:25:46](https://youtu.be/APUCMSPiNh4?t=1546) much more convenient we've maybe saved a  
[0:25:48](https://youtu.be/APUCMSPiNh4?t=1548) cup of character so let's just change  
[0:25:49](https://youtu.be/APUCMSPiNh4?t=1549) this a little bit that's amazing how did  
[0:25:51](https://youtu.be/APUCMSPiNh4?t=1551) you do that did you actually pass in the  
[0:25:54](https://youtu.be/APUCMSPiNh4?t=1554) clock what we've done is we've changed  
[0:25:56](https://youtu.be/APUCMSPiNh4?t=1556) the idea of time being a universal which  
[0:26:01](https://youtu.be/APUCMSPiNh4?t=1561) it isn't  
[0:26:01](https://youtu.be/APUCMSPiNh4?t=1561) we knew this in 1905 so why it's taken  
[0:26:04](https://youtu.be/APUCMSPiNh4?t=1564) us till 2018 to acknowledge this time is  
[0:26:07](https://youtu.be/APUCMSPiNh4?t=1567) not a universal what we've done is we've  
[0:26:10](https://youtu.be/APUCMSPiNh4?t=1570) passed in a concept of time here you're  
[0:26:12](https://youtu.be/APUCMSPiNh4?t=1572) a piece of code I want you to use this  
[0:26:15](https://youtu.be/APUCMSPiNh4?t=1575) time series or other this this source of  
[0:26:17](https://youtu.be/APUCMSPiNh4?t=1577) time time is a resource just like a file  
[0:26:20](https://youtu.be/APUCMSPiNh4?t=1580) I don't want global files I don't global  
[0:26:22](https://youtu.be/APUCMSPiNh4?t=1582) database handles and most things that  
[0:26:26](https://youtu.be/APUCMSPiNh4?t=1586) people think I can just access time out  
[0:26:27](https://youtu.be/APUCMSPiNh4?t=1587) of thin air that's a programming  
[0:26:29](https://youtu.be/APUCMSPiNh4?t=1589) convenience I wish did not exist in most  
[0:26:31](https://youtu.be/APUCMSPiNh4?t=1591) api's time here we have I'm going to  
[0:26:34](https://youtu.be/APUCMSPiNh4?t=1594) pass you a clock use this one it's that  
[0:26:36](https://youtu.be/APUCMSPiNh4?t=1596) one or this one  
[0:26:37](https://youtu.be/APUCMSPiNh4?t=1597) doesn't matter you don't have to worry  
[0:26:38](https://youtu.be/APUCMSPiNh4?t=1598) about  
[0:26:38](https://youtu.be/APUCMSPiNh4?t=1598) comes from and we now have a very simple  
[0:26:41](https://youtu.be/APUCMSPiNh4?t=1601) concept there it's face clock and we can  
[0:26:44](https://youtu.be/APUCMSPiNh4?t=1604) go ahead and have a clock in pull Wow  
[0:26:47](https://youtu.be/APUCMSPiNh4?t=1607) now if you're a dotnet person you're  
[0:26:49](https://youtu.be/APUCMSPiNh4?t=1609) probably struggling a little bit you  
[0:26:50](https://youtu.be/APUCMSPiNh4?t=1610) probably can't read the first line  
[0:26:52](https://youtu.be/APUCMSPiNh4?t=1612) you're going like what was he done there  
[0:26:54](https://youtu.be/APUCMSPiNh4?t=1614) that I can't read oh he's missed out the  
[0:26:57](https://youtu.be/APUCMSPiNh4?t=1617) letter I that's what he's done oh I knew  
[0:27:00](https://youtu.be/APUCMSPiNh4?t=1620) I couldn't read it because it doesn't  
[0:27:01](https://youtu.be/APUCMSPiNh4?t=1621) have that weird walks that I put all  
[0:27:03](https://youtu.be/APUCMSPiNh4?t=1623) over my coat  
[0:27:05](https://youtu.be/APUCMSPiNh4?t=1625) and yeah those people who do click who  
[0:27:07](https://youtu.be/APUCMSPiNh4?t=1627) do the import thing god they're so  
[0:27:09](https://youtu.be/APUCMSPiNh4?t=1629) stupid look if we do I o'clock then we  
[0:27:11](https://youtu.be/APUCMSPiNh4?t=1631) can use plot the same problem okay it's  
[0:27:16](https://youtu.be/APUCMSPiNh4?t=1636) the same problem what you've done here  
[0:27:17](https://youtu.be/APUCMSPiNh4?t=1637) as well is a failure is it we can  
[0:27:20](https://youtu.be/APUCMSPiNh4?t=1640) clarify the failure of abstraction  
[0:27:21](https://youtu.be/APUCMSPiNh4?t=1641) there's a refactoring here so first of  
[0:27:24](https://youtu.be/APUCMSPiNh4?t=1644) all we factor out we move the things  
[0:27:28](https://youtu.be/APUCMSPiNh4?t=1648) that are global to be parameters the  
[0:27:30](https://youtu.be/APUCMSPiNh4?t=1650) second thing we do is we decouple the  
[0:27:33](https://youtu.be/APUCMSPiNh4?t=1653) parameter from a concrete type the next  
[0:27:35](https://youtu.be/APUCMSPiNh4?t=1655) thing we do is we accurately describe  
[0:27:37](https://youtu.be/APUCMSPiNh4?t=1657) the concrete type and unfortunately both  
[0:27:41](https://youtu.be/APUCMSPiNh4?t=1661) the import and the I approach have this  
[0:27:44](https://youtu.be/APUCMSPiNh4?t=1664) habit of allowing you to be lazy with  
[0:27:46](https://youtu.be/APUCMSPiNh4?t=1666) names you have what you've done is  
[0:27:47](https://youtu.be/APUCMSPiNh4?t=1667) you've accidentally missed the  
[0:27:48](https://youtu.be/APUCMSPiNh4?t=1668) opportunity to name the concept what  
[0:27:50](https://youtu.be/APUCMSPiNh4?t=1670) kind of clock is that it's a clock clock  
[0:27:51](https://youtu.be/APUCMSPiNh4?t=1671) Wow  
[0:27:52](https://youtu.be/APUCMSPiNh4?t=1672) thank you for that it's a local clock  
[0:27:56](https://youtu.be/APUCMSPiNh4?t=1676) it's a mock clock it's or whatever clock  
[0:27:59](https://youtu.be/APUCMSPiNh4?t=1679) tell me what it is okay you you have you  
[0:28:01](https://youtu.be/APUCMSPiNh4?t=1681) have this you know you've got you've got  
[0:28:03](https://youtu.be/APUCMSPiNh4?t=1683) autocomplete you've got I'm not even  
[0:28:05](https://youtu.be/APUCMSPiNh4?t=1685) using up loads of names here I mean  
[0:28:07](https://youtu.be/APUCMSPiNh4?t=1687) given that most of your codebase  
[0:28:09](https://youtu.be/APUCMSPiNh4?t=1689) probably has abstract controller Factory  
[0:28:11](https://youtu.be/APUCMSPiNh4?t=1691) singleton clock then this is quite  
[0:28:13](https://youtu.be/APUCMSPiNh4?t=1693) simple economy okay so then we can mess  
[0:28:15](https://youtu.be/APUCMSPiNh4?t=1695) about with whatever naming conventions  
[0:28:17](https://youtu.be/APUCMSPiNh4?t=1697) we like okay so that's the first bit the  
[0:28:19](https://youtu.be/APUCMSPiNh4?t=1699) next thing is you might realize the only  
[0:28:21](https://youtu.be/APUCMSPiNh4?t=1701) thing you're ever going to get from the  
[0:28:23](https://youtu.be/APUCMSPiNh4?t=1703) clock interface is one think at the time  
[0:28:25](https://youtu.be/APUCMSPiNh4?t=1705) of day or you can actually narrow the  
[0:28:27](https://youtu.be/APUCMSPiNh4?t=1707) abstraction you don't need an interface  
[0:28:29](https://youtu.be/APUCMSPiNh4?t=1709) for that so we don't actually need to  
[0:28:30](https://youtu.be/APUCMSPiNh4?t=1710) introduce an intermediate abstraction if  
[0:28:32](https://youtu.be/APUCMSPiNh4?t=1712) our language such as C sharp such as  
[0:28:35](https://youtu.be/APUCMSPiNh4?t=1715) Java supports the ability to pass  
[0:28:37](https://youtu.be/APUCMSPiNh4?t=1717) through a simple direct functional  
[0:28:38](https://youtu.be/APUCMSPiNh4?t=1718) abstraction so yeah give me it give me  
[0:28:40](https://youtu.be/APUCMSPiNh4?t=1720) the time of day so now what I've done is  
[0:28:42](https://youtu.be/APUCMSPiNh4?t=1722) I've reduced my source of time to a  
[0:28:44](https://youtu.be/APUCMSPiNh4?t=1724) simple function I can simply call it  
[0:28:47](https://youtu.be/APUCMSPiNh4?t=1727) when I need it and then the most  
[0:28:49](https://youtu.be/APUCMSPiNh4?t=1729) mind-blowing thing is why don't we just  
[0:28:51](https://youtu.be/APUCMSPiNh4?t=1731) pass in the time  
[0:28:53](https://youtu.be/APUCMSPiNh4?t=1733) and what we've done is instead of making  
[0:28:55](https://youtu.be/APUCMSPiNh4?t=1735) this a higher-order function we've  
[0:28:57](https://youtu.be/APUCMSPiNh4?t=1737) simply said example is a function of  
[0:29:00](https://youtu.be/APUCMSPiNh4?t=1740) time that is actually directly stated we  
[0:29:04](https://youtu.be/APUCMSPiNh4?t=1744) haven't hidden a dependency in the  
[0:29:05](https://youtu.be/APUCMSPiNh4?t=1745) original example we had the idea that  
[0:29:08](https://youtu.be/APUCMSPiNh4?t=1748) there was a hidden dependency which we'd  
[0:29:11](https://youtu.be/APUCMSPiNh4?t=1751) obscured it we have made something  
[0:29:13](https://youtu.be/APUCMSPiNh4?t=1753) convenient by saving a few characters  
[0:29:14](https://youtu.be/APUCMSPiNh4?t=1754) typing but we actually lost the  
[0:29:16](https://youtu.be/APUCMSPiNh4?t=1756) explicitness of this is time dependent  
[0:29:18](https://youtu.be/APUCMSPiNh4?t=1758) behavior now we just turned it into a  
[0:29:20](https://youtu.be/APUCMSPiNh4?t=1760) pure function this is much much simpler  
[0:29:22](https://youtu.be/APUCMSPiNh4?t=1762) so one of the things where people are  
[0:29:25](https://youtu.be/APUCMSPiNh4?t=1765) passing around controllers and factories  
[0:29:27](https://youtu.be/APUCMSPiNh4?t=1767) and and provision provisioner type  
[0:29:30](https://youtu.be/APUCMSPiNh4?t=1770) objects it's simply a case of like well  
[0:29:33](https://youtu.be/APUCMSPiNh4?t=1773) what's the result that you want let the  
[0:29:34](https://youtu.be/APUCMSPiNh4?t=1774) person who calls it make that decision  
[0:29:36](https://youtu.be/APUCMSPiNh4?t=1776) okay  
[0:29:37](https://youtu.be/APUCMSPiNh4?t=1777) this code is far simpler to test to  
[0:29:40](https://youtu.be/APUCMSPiNh4?t=1780) reason about and so on of course there  
[0:29:44](https://youtu.be/APUCMSPiNh4?t=1784) is the possibility as Alan Perlis noted  
[0:29:46](https://youtu.be/APUCMSPiNh4?t=1786) in the early 80s if you have a procedure  
[0:29:47](https://youtu.be/APUCMSPiNh4?t=1787) with ten parameters you probably miss  
[0:29:49](https://youtu.be/APUCMSPiNh4?t=1789) some so clearly you cannot just keep on  
[0:29:51](https://youtu.be/APUCMSPiNh4?t=1791) abstracting and adding extra arguments  
[0:29:53](https://youtu.be/APUCMSPiNh4?t=1793) that tells you probably that you've got  
[0:29:54](https://youtu.be/APUCMSPiNh4?t=1794) too much behavior but it tells you can  
[0:29:57](https://youtu.be/APUCMSPiNh4?t=1797) also group the behavior okay so we can  
[0:30:00](https://youtu.be/APUCMSPiNh4?t=1800) see there's a bunch of things reducing  
[0:30:02](https://youtu.be/APUCMSPiNh4?t=1802) scope of variables eliminating the  
[0:30:04](https://youtu.be/APUCMSPiNh4?t=1804) second sign which I haven't covered  
[0:30:05](https://youtu.be/APUCMSPiNh4?t=1805) Global's as parameters replacing long  
[0:30:08](https://youtu.be/APUCMSPiNh4?t=1808) parameter lists with parameter objects  
[0:30:09](https://youtu.be/APUCMSPiNh4?t=1809) which I haven't covered and replace  
[0:30:11](https://youtu.be/APUCMSPiNh4?t=1811) resource passing would actually give me  
[0:30:13](https://youtu.be/APUCMSPiNh4?t=1813) the value that you want so let's explore  
[0:30:16](https://youtu.be/APUCMSPiNh4?t=1816) that time-of-day thing a little bit  
[0:30:17](https://youtu.be/APUCMSPiNh4?t=1817) further so in this book they covered a  
[0:30:21](https://youtu.be/APUCMSPiNh4?t=1821) few years ago we talked about the idea  
[0:30:23](https://youtu.be/APUCMSPiNh4?t=1823) of immutable values defined value object  
[0:30:26](https://youtu.be/APUCMSPiNh4?t=1826) types whose instances are immutable the  
[0:30:29](https://youtu.be/APUCMSPiNh4?t=1829) eternal state of a value object is set a  
[0:30:30](https://youtu.be/APUCMSPiNh4?t=1830) construction and no subsequent  
[0:30:32](https://youtu.be/APUCMSPiNh4?t=1832) modifications are allowed so the idea is  
[0:30:34](https://youtu.be/APUCMSPiNh4?t=1834) that your object has a value and it  
[0:30:37](https://youtu.be/APUCMSPiNh4?t=1837) retains that value many ways this is  
[0:30:41](https://youtu.be/APUCMSPiNh4?t=1841) unsurprising but for a lot of people  
[0:30:43](https://youtu.be/APUCMSPiNh4?t=1843) they don't think about their code in  
[0:30:45](https://youtu.be/APUCMSPiNh4?t=1845) these terms so they end up naturally  
[0:30:47](https://youtu.be/APUCMSPiNh4?t=1847) shoving in setters so we can actually  
[0:30:50](https://youtu.be/APUCMSPiNh4?t=1850) take some examples I have some currency  
[0:30:52](https://youtu.be/APUCMSPiNh4?t=1852) in my wallet and I have a choice of  
[0:30:54](https://youtu.be/APUCMSPiNh4?t=1854) currency so I'm going to choose  
[0:30:55](https://youtu.be/APUCMSPiNh4?t=1855) something a little more stable than the  
[0:30:56](https://youtu.be/APUCMSPiNh4?t=1856) pound I'm going to choose the Euro I  
[0:30:58](https://youtu.be/APUCMSPiNh4?t=1858) have no idea what the pound is doing  
[0:31:01](https://youtu.be/APUCMSPiNh4?t=1861) probably falling who knows  
[0:31:05](https://youtu.be/APUCMSPiNh4?t=1865) and what we have here is I've got 20  
[0:31:08](https://youtu.be/APUCMSPiNh4?t=1868) euros here and this is 20 years it will  
[0:31:11](https://youtu.be/APUCMSPiNh4?t=1871) retain its 20 Uranus for all of its life  
[0:31:14](https://youtu.be/APUCMSPiNh4?t=1874) I'll have another 20 euro here they are  
[0:31:17](https://youtu.be/APUCMSPiNh4?t=1877) they differ only in their identity Weiss  
[0:31:19](https://youtu.be/APUCMSPiNh4?t=1879) make that bold statement let's just  
[0:31:20](https://youtu.be/APUCMSPiNh4?t=1880) check they're not yep they do actually  
[0:31:22](https://youtu.be/APUCMSPiNh4?t=1882) have a reference identity that's a  
[0:31:23](https://youtu.be/APUCMSPiNh4?t=1883) serial number they are different so  
[0:31:27](https://youtu.be/APUCMSPiNh4?t=1887) they're although they have identity  
[0:31:28](https://youtu.be/APUCMSPiNh4?t=1888) that's not how we use them their their  
[0:31:30](https://youtu.be/APUCMSPiNh4?t=1890) usage is anchored in the value that they  
[0:31:35](https://youtu.be/APUCMSPiNh4?t=1895) can present  
[0:31:36](https://youtu.be/APUCMSPiNh4?t=1896) that's all very logical that's all very  
[0:31:38](https://youtu.be/APUCMSPiNh4?t=1898) nice and we know that and we suddenly  
[0:31:40](https://youtu.be/APUCMSPiNh4?t=1900) find ourselves inside an IDE and board  
[0:31:43](https://youtu.be/APUCMSPiNh4?t=1903) before we know it we've got setters  
[0:31:45](https://youtu.be/APUCMSPiNh4?t=1905) everywhere why have you got setters  
[0:31:46](https://youtu.be/APUCMSPiNh4?t=1906) because my IDE allows me it just  
[0:31:49](https://youtu.be/APUCMSPiNh4?t=1909) automatically puts them in I've got a  
[0:31:51](https://youtu.be/APUCMSPiNh4?t=1911) really good shortcut it puts getting set  
[0:31:52](https://youtu.be/APUCMSPiNh4?t=1912) in every single time yeah I can do the  
[0:31:54](https://youtu.be/APUCMSPiNh4?t=1914) wrong thing faster at speed  
[0:31:57](https://youtu.be/APUCMSPiNh4?t=1917) look at this automated bad code  
[0:31:59](https://youtu.be/APUCMSPiNh4?t=1919) generation yeah and it we fall into this  
[0:32:04](https://youtu.be/APUCMSPiNh4?t=1924) little trap because of the an accident'  
[0:32:06](https://youtu.be/APUCMSPiNh4?t=1926) quality of English that getting set they  
[0:32:08](https://youtu.be/APUCMSPiNh4?t=1928) rhyme a share most of the same spelling  
[0:32:11](https://youtu.be/APUCMSPiNh4?t=1931) they feel like opposites they're not to  
[0:32:15](https://youtu.be/APUCMSPiNh4?t=1935) get is to ask a question although it's  
[0:32:18](https://youtu.be/APUCMSPiNh4?t=1938) actually a slightly rude way of asking a  
[0:32:20](https://youtu.be/APUCMSPiNh4?t=1940) question get is a very raw English verb  
[0:32:24](https://youtu.be/APUCMSPiNh4?t=1944) get implies side effect in case you were  
[0:32:26](https://youtu.be/APUCMSPiNh4?t=1946) wondering this is often a concern often  
[0:32:29](https://youtu.be/APUCMSPiNh4?t=1949) a surprise to people who come to English  
[0:32:32](https://youtu.be/APUCMSPiNh4?t=1952) via the road of development yeah get  
[0:32:36](https://youtu.be/APUCMSPiNh4?t=1956) means query no really it doesn't  
[0:32:38](https://youtu.be/APUCMSPiNh4?t=1958) disappointingly when I got some cash  
[0:32:40](https://youtu.be/APUCMSPiNh4?t=1960) from the from the machine in the wall my  
[0:32:43](https://youtu.be/APUCMSPiNh4?t=1963) bank balance went down side-effect okay  
[0:32:45](https://youtu.be/APUCMSPiNh4?t=1965) you get money there is a side effect you  
[0:32:47](https://youtu.be/APUCMSPiNh4?t=1967) get married there is a side effect okay  
[0:32:50](https://youtu.be/APUCMSPiNh4?t=1970) yeah so these are the word get in  
[0:32:53](https://youtu.be/APUCMSPiNh4?t=1973) English means the following will change  
[0:32:55](https://youtu.be/APUCMSPiNh4?t=1975) the world it will have a side effect  
[0:32:57](https://youtu.be/APUCMSPiNh4?t=1977) okay so we've been lulled into this kind  
[0:33:00](https://youtu.be/APUCMSPiNh4?t=1980) of convenience because the words have a  
[0:33:02](https://youtu.be/APUCMSPiNh4?t=1982) certain you for me get set and we do  
[0:33:04](https://youtu.be/APUCMSPiNh4?t=1984) this I often have this in classes when  
[0:33:07](https://youtu.be/APUCMSPiNh4?t=1987) I'm running a test driven development  
[0:33:09](https://youtu.be/APUCMSPiNh4?t=1989) classes where somebody will quite  
[0:33:11](https://youtu.be/APUCMSPiNh4?t=1991) happily be writing good tests and then  
[0:33:13](https://youtu.be/APUCMSPiNh4?t=1993) I'll say what's that setter doing oh  
[0:33:14](https://youtu.be/APUCMSPiNh4?t=1994) yeah we it was just there  
[0:33:17](https://youtu.be/APUCMSPiNh4?t=1997) yes sir seminary wasn't just there  
[0:33:19](https://youtu.be/APUCMSPiNh4?t=1999) because the co didn't exist ten minutes  
[0:33:20](https://youtu.be/APUCMSPiNh4?t=2000) ago didn't just appear or rather it  
[0:33:23](https://youtu.be/APUCMSPiNh4?t=2003) appeared through the power of fingertips  
[0:33:25](https://youtu.be/APUCMSPiNh4?t=2005) but there's no test that car so if I  
[0:33:28](https://youtu.be/APUCMSPiNh4?t=2008) delete all the setters the care the  
[0:33:29](https://youtu.be/APUCMSPiNh4?t=2009) tests will still run yes  
[0:33:31](https://youtu.be/APUCMSPiNh4?t=2011) okay let's delete all that but don't we  
[0:33:33](https://youtu.be/APUCMSPiNh4?t=2013) need a little uncomfortable with this  
[0:33:37](https://youtu.be/APUCMSPiNh4?t=2017) kind of loss of perceived symmetry so  
[0:33:39](https://youtu.be/APUCMSPiNh4?t=2019) let's go back to our time of day concept  
[0:33:41](https://youtu.be/APUCMSPiNh4?t=2021) okay we've got hours we've got minutes  
[0:33:43](https://youtu.be/APUCMSPiNh4?t=2023) I'll skip seconds and we've got this  
[0:33:45](https://youtu.be/APUCMSPiNh4?t=2025) idea of I can change the hour I can  
[0:33:47](https://youtu.be/APUCMSPiNh4?t=2027) change the minute I presume there's  
[0:33:48](https://youtu.be/APUCMSPiNh4?t=2028) going to be appropriate bounds checking  
[0:33:50](https://youtu.be/APUCMSPiNh4?t=2030) on that and I can also ask it please  
[0:33:52](https://youtu.be/APUCMSPiNh4?t=2032) move to the next hour please move to the  
[0:33:54](https://youtu.be/APUCMSPiNh4?t=2034) next minute and many people will arrive  
[0:33:56](https://youtu.be/APUCMSPiNh4?t=2036) at the solution perhaps without  
[0:33:57](https://youtu.be/APUCMSPiNh4?t=2037) realizing this and then they'll go and  
[0:33:59](https://youtu.be/APUCMSPiNh4?t=2039) build an implementation like that yep  
[0:34:01](https://youtu.be/APUCMSPiNh4?t=2041) good I believe it works I think I wrote  
[0:34:04](https://youtu.be/APUCMSPiNh4?t=2044) tests that's fine okay so let's go back  
[0:34:08](https://youtu.be/APUCMSPiNh4?t=2048) to this how are we gonna make this  
[0:34:09](https://youtu.be/APUCMSPiNh4?t=2049) immutable without breaking all of our  
[0:34:11](https://youtu.be/APUCMSPiNh4?t=2051) code well the first thing we can do is  
[0:34:13](https://youtu.be/APUCMSPiNh4?t=2053) obviously get rid of the setters now  
[0:34:16](https://youtu.be/APUCMSPiNh4?t=2056) that how'd that that only does half of  
[0:34:18](https://youtu.be/APUCMSPiNh4?t=2058) it that's the how do I make this  
[0:34:20](https://youtu.be/APUCMSPiNh4?t=2060) immutable I'll get to the next bits in a  
[0:34:24](https://youtu.be/APUCMSPiNh4?t=2064) moment but without breaking our code  
[0:34:26](https://youtu.be/APUCMSPiNh4?t=2066) I've got stuff there that did actually  
[0:34:29](https://youtu.be/APUCMSPiNh4?t=2069) end up relying on those setters then  
[0:34:30](https://youtu.be/APUCMSPiNh4?t=2070) I've broken the bubble I've broken the  
[0:34:33](https://youtu.be/APUCMSPiNh4?t=2073) illusion is no longer it's not a good  
[0:34:34](https://youtu.be/APUCMSPiNh4?t=2074) refactoring because it no longer  
[0:34:35](https://youtu.be/APUCMSPiNh4?t=2075) compiles so I'll just shorten that so  
[0:34:40](https://youtu.be/APUCMSPiNh4?t=2080) we've actually got hours and minutes  
[0:34:41](https://youtu.be/APUCMSPiNh4?t=2081) okay what we're gonna do is we're gonna  
[0:34:45](https://youtu.be/APUCMSPiNh4?t=2085) recognize that setting is a different  
[0:34:47](https://youtu.be/APUCMSPiNh4?t=2087) way of looking at something what we're  
[0:34:49](https://youtu.be/APUCMSPiNh4?t=2089) doing when we're setting instead of  
[0:34:51](https://youtu.be/APUCMSPiNh4?t=2091) saying I'm going to change the value of  
[0:34:54](https://youtu.be/APUCMSPiNh4?t=2094) this object we start from a different  
[0:34:56](https://youtu.be/APUCMSPiNh4?t=2096) position we say given this object in  
[0:34:59](https://youtu.be/APUCMSPiNh4?t=2099) this particular state what I would like  
[0:35:02](https://youtu.be/APUCMSPiNh4?t=2102) is an object that reflects the following  
[0:35:04](https://youtu.be/APUCMSPiNh4?t=2104) change it's a quick it's it's a it's a  
[0:35:07](https://youtu.be/APUCMSPiNh4?t=2107) polite request rather than a forceful  
[0:35:09](https://youtu.be/APUCMSPiNh4?t=2109) request okay  
[0:35:10](https://youtu.be/APUCMSPiNh4?t=2110) please give me an object that you know  
[0:35:14](https://youtu.be/APUCMSPiNh4?t=2114) if the time is fifteen thirty five  
[0:35:18](https://youtu.be/APUCMSPiNh4?t=2118) please give me an object that has the  
[0:35:21](https://youtu.be/APUCMSPiNh4?t=2121) hour as 16 okay so what I'm doing is I'm  
[0:35:24](https://youtu.be/APUCMSPiNh4?t=2124) asking for a transformation I'm asking  
[0:35:27](https://youtu.be/APUCMSPiNh4?t=2127) for a diff  
[0:35:28](https://youtu.be/APUCMSPiNh4?t=2128) and I'm gonna say if you've used a  
[0:35:30](https://youtu.be/APUCMSPiNh4?t=2130) version control system before you might  
[0:35:32](https://youtu.be/APUCMSPiNh4?t=2132) be familiar with this approach okay so  
[0:35:35](https://youtu.be/APUCMSPiNh4?t=2135) therefore that's what we're going to do  
[0:35:37](https://youtu.be/APUCMSPiNh4?t=2137) we're going to change the sets to widths  
[0:35:38](https://youtu.be/APUCMSPiNh4?t=2138) we're going to say given this when I  
[0:35:40](https://youtu.be/APUCMSPiNh4?t=2140) transform it then give me that it turns  
[0:35:42](https://youtu.be/APUCMSPiNh4?t=2142) out we we are already familiar with this  
[0:35:44](https://youtu.be/APUCMSPiNh4?t=2144) I don't know maybe you were four maybe  
[0:35:47](https://youtu.be/APUCMSPiNh4?t=2147) you were five maybe you were six but  
[0:35:49](https://youtu.be/APUCMSPiNh4?t=2149) when you were taught to add numbers this  
[0:35:51](https://youtu.be/APUCMSPiNh4?t=2151) is how you were taught the teacher came  
[0:35:53](https://youtu.be/APUCMSPiNh4?t=2153) along and said okay you've got two and  
[0:35:56](https://youtu.be/APUCMSPiNh4?t=2156) you now add three and you get five  
[0:36:01](https://youtu.be/APUCMSPiNh4?t=2161) that's great and you're able to use the  
[0:36:04](https://youtu.be/APUCMSPiNh4?t=2164) same to the same three in the same five  
[0:36:07](https://youtu.be/APUCMSPiNh4?t=2167) the next day they haven't changed the  
[0:36:10](https://youtu.be/APUCMSPiNh4?t=2170) addition of three to five the addition  
[0:36:12](https://youtu.be/APUCMSPiNh4?t=2172) of three to two did not change the two  
[0:36:15](https://youtu.be/APUCMSPiNh4?t=2175) okay there are programming languages  
[0:36:17](https://youtu.be/APUCMSPiNh4?t=2177) where you can you know do serious  
[0:36:19](https://youtu.be/APUCMSPiNh4?t=2179) violence to the concept of such numbers  
[0:36:22](https://youtu.be/APUCMSPiNh4?t=2182) we do not recommend that but what we're  
[0:36:25](https://youtu.be/APUCMSPiNh4?t=2185) doing here is we're saying two we've an  
[0:36:28](https://youtu.be/APUCMSPiNh4?t=2188) extra three that's what we're saying is  
[0:36:30](https://youtu.be/APUCMSPiNh4?t=2190) that that's great so the problem that I  
[0:36:33](https://youtu.be/APUCMSPiNh4?t=2193) find when many people do that they say  
[0:36:36](https://youtu.be/APUCMSPiNh4?t=2196) right we've got rid of the setters yeah  
[0:36:37](https://youtu.be/APUCMSPiNh4?t=2197) but you haven't happened now you broke  
[0:36:39](https://youtu.be/APUCMSPiNh4?t=2199) on my couch how do I do this without  
[0:36:41](https://youtu.be/APUCMSPiNh4?t=2201) creating too many without creating too  
[0:36:44](https://youtu.be/APUCMSPiNh4?t=2204) many changes in my code well it's just a  
[0:36:46](https://youtu.be/APUCMSPiNh4?t=2206) simple transformation to a width we also  
[0:36:49](https://youtu.be/APUCMSPiNh4?t=2209) say next hour so the next hour is now a  
[0:36:52](https://youtu.be/APUCMSPiNh4?t=2212) query although you may be what may want  
[0:36:55](https://youtu.be/APUCMSPiNh4?t=2215) to go via renaming and to avoid some of  
[0:36:57](https://youtu.be/APUCMSPiNh4?t=2217) the surprises because it turns out a  
[0:37:00](https://youtu.be/APUCMSPiNh4?t=2220) point of call these both look identical  
[0:37:02](https://youtu.be/APUCMSPiNh4?t=2222) or can look identical and you may  
[0:37:05](https://youtu.be/APUCMSPiNh4?t=2225) discover that this is not going to work  
[0:37:07](https://youtu.be/APUCMSPiNh4?t=2227) out for you very well  
[0:37:09](https://youtu.be/APUCMSPiNh4?t=2229) why is my code not working I've still  
[0:37:11](https://youtu.be/APUCMSPiNh4?t=2231) got calls to next hour so there is a  
[0:37:13](https://youtu.be/APUCMSPiNh4?t=2233) scope for making it actually actively  
[0:37:15](https://youtu.be/APUCMSPiNh4?t=2235) incompatible and then reverting to the  
[0:37:17](https://youtu.be/APUCMSPiNh4?t=2237) most convenient name so what you do this  
[0:37:20](https://youtu.be/APUCMSPiNh4?t=2240) let's put in a constructor so that we  
[0:37:23](https://youtu.be/APUCMSPiNh4?t=2243) can actually see that we start off so  
[0:37:25](https://youtu.be/APUCMSPiNh4?t=2245) the most important thing is you give an  
[0:37:26](https://youtu.be/APUCMSPiNh4?t=2246) object a good start in life and one of  
[0:37:29](https://youtu.be/APUCMSPiNh4?t=2249) the things we're going to say is  
[0:37:30](https://youtu.be/APUCMSPiNh4?t=2250) actually in many cases with value  
[0:37:31](https://youtu.be/APUCMSPiNh4?t=2251) objects we don't support the idea of  
[0:37:33](https://youtu.be/APUCMSPiNh4?t=2253) default construction now this is a  
[0:37:35](https://youtu.be/APUCMSPiNh4?t=2255) problem I just want to clarify when I'm  
[0:37:36](https://youtu.be/APUCMSPiNh4?t=2256) using the term value objects I'm using  
[0:37:38](https://youtu.be/APUCMSPiNh4?t=2258) it correctly  
[0:37:38](https://youtu.be/APUCMSPiNh4?t=2258) unlike dotnet which mean  
[0:37:42](https://youtu.be/APUCMSPiNh4?t=2262) passed by copy objects it turns out the  
[0:37:44](https://youtu.be/APUCMSPiNh4?t=2264) string is a value object that's not a  
[0:37:46](https://youtu.be/APUCMSPiNh4?t=2266) value object which is confusing in  
[0:37:48](https://youtu.be/APUCMSPiNh4?t=2268) vocabulary so when I'm talking about  
[0:37:50](https://youtu.be/APUCMSPiNh4?t=2270) values I mean things that model values  
[0:37:52](https://youtu.be/APUCMSPiNh4?t=2272) like currency like time of day and so on  
[0:37:54](https://youtu.be/APUCMSPiNh4?t=2274) not the struct types okay um you want to  
[0:37:58](https://youtu.be/APUCMSPiNh4?t=2278) make if width is not enough for you you  
[0:38:00](https://youtu.be/APUCMSPiNh4?t=2280) can add in a builder so think string  
[0:38:02](https://youtu.be/APUCMSPiNh4?t=2282) string builder so you know through  
[0:38:04](https://youtu.be/APUCMSPiNh4?t=2284) progressive changes so we now got the  
[0:38:05](https://youtu.be/APUCMSPiNh4?t=2285) code it's about the same amount on the  
[0:38:07](https://youtu.be/APUCMSPiNh4?t=2287) slide  
[0:38:07](https://youtu.be/APUCMSPiNh4?t=2287) we haven't actually changed the amount  
[0:38:08](https://youtu.be/APUCMSPiNh4?t=2288) of code it usage it's about the same  
[0:38:10](https://youtu.be/APUCMSPiNh4?t=2290) amount so this is the interesting things  
[0:38:12](https://youtu.be/APUCMSPiNh4?t=2292) we've ended up with the same amount of  
[0:38:14](https://youtu.be/APUCMSPiNh4?t=2294) code just phrased differently this is a  
[0:38:17](https://youtu.be/APUCMSPiNh4?t=2297) relatively simple thing to do will your  
[0:38:19](https://youtu.be/APUCMSPiNh4?t=2299) object creation costs go up or down yes  
[0:38:24](https://youtu.be/APUCMSPiNh4?t=2304) it depends how you're using it it turns  
[0:38:26](https://youtu.be/APUCMSPiNh4?t=2306) out if we're sharing this then that  
[0:38:28](https://youtu.be/APUCMSPiNh4?t=2308) means I don't have to do defensive  
[0:38:29](https://youtu.be/APUCMSPiNh4?t=2309) copying there's a lot of code that has  
[0:38:32](https://youtu.be/APUCMSPiNh4?t=2312) defensive copying I'm going to give you  
[0:38:33](https://youtu.be/APUCMSPiNh4?t=2313) a copy of this because I don't know what  
[0:38:35](https://youtu.be/APUCMSPiNh4?t=2315) you're gonna do or alternatively it has  
[0:38:37](https://youtu.be/APUCMSPiNh4?t=2317) defensive comments hey I'm gonna pass  
[0:38:41](https://youtu.be/APUCMSPiNh4?t=2321) you this but please don't change it  
[0:38:42](https://youtu.be/APUCMSPiNh4?t=2322) because there's another object currently  
[0:38:43](https://youtu.be/APUCMSPiNh4?t=2323) sharing it so it'd be really good if you  
[0:38:45](https://youtu.be/APUCMSPiNh4?t=2325) just didn't call any other modifies  
[0:38:46](https://youtu.be/APUCMSPiNh4?t=2326) thanks bye comment server and not  
[0:38:50](https://youtu.be/APUCMSPiNh4?t=2330) perhaps the best way to guarantee these  
[0:38:52](https://youtu.be/APUCMSPiNh4?t=2332) invariants in your code so I treat that  
[0:38:55](https://youtu.be/APUCMSPiNh4?t=2335) as a separate issue but it's a problem  
[0:38:58](https://youtu.be/APUCMSPiNh4?t=2338) that you need to create if you want to  
[0:38:59](https://youtu.be/APUCMSPiNh4?t=2339) solve it rather than I'm not going to do  
[0:39:01](https://youtu.be/APUCMSPiNh4?t=2341) it because I might have a problem no you  
[0:39:03](https://youtu.be/APUCMSPiNh4?t=2343) already have a problem okay so um we can  
[0:39:06](https://youtu.be/APUCMSPiNh4?t=2346) have this simple idea remove modifies is  
[0:39:08](https://youtu.be/APUCMSPiNh4?t=2348) the simplest but how do we actually  
[0:39:11](https://youtu.be/APUCMSPiNh4?t=2351) replace our modifiers replace  
[0:39:13](https://youtu.be/APUCMSPiNh4?t=2353) modifications with constructors move so  
[0:39:15](https://youtu.be/APUCMSPiNh4?t=2355) construct new objects move modifiers to  
[0:39:16](https://youtu.be/APUCMSPiNh4?t=2356) a builder kind of style replace the  
[0:39:19](https://youtu.be/APUCMSPiNh4?t=2359) side-effect with a new object make void  
[0:39:20](https://youtu.be/APUCMSPiNh4?t=2360) methods fluent so there's a kind of a  
[0:39:22](https://youtu.be/APUCMSPiNh4?t=2362) series of things that we can see in  
[0:39:23](https://youtu.be/APUCMSPiNh4?t=2363) moving from one style to another now I  
[0:39:30](https://youtu.be/APUCMSPiNh4?t=2370) want to talk about objects and  
[0:39:31](https://youtu.be/APUCMSPiNh4?t=2371) psychoanalysis it turns out  
[0:39:33](https://youtu.be/APUCMSPiNh4?t=2373) psychoanalysts psychoanalysts are  
[0:39:35](https://youtu.be/APUCMSPiNh4?t=2375) utterly obsessed with objects slightly  
[0:39:39](https://youtu.be/APUCMSPiNh4?t=2379) different objects but i think it's kind  
[0:39:40](https://youtu.be/APUCMSPiNh4?t=2380) of nice that's a snack of verse like  
[0:39:42](https://youtu.be/APUCMSPiNh4?t=2382) therapy books my mother was a  
[0:39:43](https://youtu.be/APUCMSPiNh4?t=2383) psychotherapist and it has had no effect  
[0:39:46](https://youtu.be/APUCMSPiNh4?t=2386) on me whatsoever yeah do not trust me as  
[0:39:51](https://youtu.be/APUCMSPiNh4?t=2391) software developers your kids will grow  
[0:39:52](https://youtu.be/APUCMSPiNh4?t=2392) up from way less screwed up  
[0:39:55](https://youtu.be/APUCMSPiNh4?t=2395) it did give me an introduction to  
[0:39:57](https://youtu.be/APUCMSPiNh4?t=2397) objects from a very early age our book  
[0:39:59](https://youtu.be/APUCMSPiNh4?t=2399) is simply a container of an idea like a  
[0:40:01](https://youtu.be/APUCMSPiNh4?t=2401) bottle what is inside the book is what  
[0:40:02](https://youtu.be/APUCMSPiNh4?t=2402) matters we will see that the content is  
[0:40:04](https://youtu.be/APUCMSPiNh4?t=2404) there however the reason I've got a book  
[0:40:05](https://youtu.be/APUCMSPiNh4?t=2405) there is the gratuitous fact that it is  
[0:40:07](https://youtu.be/APUCMSPiNh4?t=2407) in fact a stack of books which means  
[0:40:09](https://youtu.be/APUCMSPiNh4?t=2409) that I am going to talk about stacks  
[0:40:10](https://youtu.be/APUCMSPiNh4?t=2410) that quintessential labrat of computer  
[0:40:14](https://youtu.be/APUCMSPiNh4?t=2414) science is shift language hearing a  
[0:40:16](https://youtu.be/APUCMSPiNh4?t=2416) shift to Java because I was told guess  
[0:40:18](https://youtu.be/APUCMSPiNh4?t=2418) what NDC is broadening out from the  
[0:40:20](https://youtu.be/APUCMSPiNh4?t=2420) darknet world so here you go and it  
[0:40:22](https://youtu.be/APUCMSPiNh4?t=2422) looks no different at this level but no  
[0:40:24](https://youtu.be/APUCMSPiNh4?t=2424) matter you know if you ever struggle  
[0:40:29](https://youtu.be/APUCMSPiNh4?t=2429) with porting between the two there are a  
[0:40:31](https://youtu.be/APUCMSPiNh4?t=2431) few differences but mostly it's case you  
[0:40:33](https://youtu.be/APUCMSPiNh4?t=2433) know change main the case of main so if  
[0:40:35](https://youtu.be/APUCMSPiNh4?t=2435) you know where the case shift is on your  
[0:40:37](https://youtu.be/APUCMSPiNh4?t=2437) and your IDE you're sorted that might be  
[0:40:41](https://youtu.be/APUCMSPiNh4?t=2441) a little flippant but it's a good  
[0:40:42](https://youtu.be/APUCMSPiNh4?t=2442) starting point okay so let's actually  
[0:40:44](https://youtu.be/APUCMSPiNh4?t=2444) put some stuff into these Java so I've  
[0:40:46](https://youtu.be/APUCMSPiNh4?t=2446) got a I've got a structure I've got a  
[0:40:48](https://youtu.be/APUCMSPiNh4?t=2448) number of things I can do with it I'm  
[0:40:49](https://youtu.be/APUCMSPiNh4?t=2449) gonna keep the the objects API very  
[0:40:52](https://youtu.be/APUCMSPiNh4?t=2452) simple you've got the depth I can ask  
[0:40:54](https://youtu.be/APUCMSPiNh4?t=2454) I can query the depth I can ask the top  
[0:40:56](https://youtu.be/APUCMSPiNh4?t=2456) element pop is what we might call a pure  
[0:40:59](https://youtu.be/APUCMSPiNh4?t=2459) pop in other words it does not return a  
[0:41:01](https://youtu.be/APUCMSPiNh4?t=2461) value it just pops it is a pure  
[0:41:03](https://youtu.be/APUCMSPiNh4?t=2463) imperative operation in that sense kind  
[0:41:05](https://youtu.be/APUCMSPiNh4?t=2465) of curious to hear the words pure and  
[0:41:07](https://youtu.be/APUCMSPiNh4?t=2467) imperative in the same sentence there  
[0:41:09](https://youtu.be/APUCMSPiNh4?t=2469) but there is the idea this is a  
[0:41:11](https://youtu.be/APUCMSPiNh4?t=2471) procedure in a classic sense it does not  
[0:41:14](https://youtu.be/APUCMSPiNh4?t=2474) return a value it merely changes the  
[0:41:16](https://youtu.be/APUCMSPiNh4?t=2476) state and then we've got push it's for  
[0:41:19](https://youtu.be/APUCMSPiNh4?t=2479) operations I've wrapped an ArrayList on  
[0:41:21](https://youtu.be/APUCMSPiNh4?t=2481) the inside and this does expected things  
[0:41:23](https://youtu.be/APUCMSPiNh4?t=2483) if you try and pop or take the top of an  
[0:41:27](https://youtu.be/APUCMSPiNh4?t=2487) empty stack you get an illegal State  
[0:41:29](https://youtu.be/APUCMSPiNh4?t=2489) exception okay  
[0:41:30](https://youtu.be/APUCMSPiNh4?t=2490) now to make this immutable there might  
[0:41:34](https://youtu.be/APUCMSPiNh4?t=2494) be an initial sense where you might go  
[0:41:36](https://youtu.be/APUCMSPiNh4?t=2496) alright so I need to create new copies  
[0:41:38](https://youtu.be/APUCMSPiNh4?t=2498) of every time I do something to a stack  
[0:41:42](https://youtu.be/APUCMSPiNh4?t=2502) I need to create a new copy of the stack  
[0:41:44](https://youtu.be/APUCMSPiNh4?t=2504) you know this is going to be quite  
[0:41:45](https://youtu.be/APUCMSPiNh4?t=2505) expensive to copy a collection every  
[0:41:48](https://youtu.be/APUCMSPiNh4?t=2508) single time you're going to use it it  
[0:41:50](https://youtu.be/APUCMSPiNh4?t=2510) was okay to create a new money object in  
[0:41:52](https://youtu.be/APUCMSPiNh4?t=2512) new time of day object whatever because  
[0:41:53](https://youtu.be/APUCMSPiNh4?t=2513) these actually it's not going to make  
[0:41:55](https://youtu.be/APUCMSPiNh4?t=2515) much difference we will end up with  
[0:41:57](https://youtu.be/APUCMSPiNh4?t=2517) similar amounts of object creation but  
[0:41:59](https://youtu.be/APUCMSPiNh4?t=2519) we're not talking big objects  
[0:42:00](https://youtu.be/APUCMSPiNh4?t=2520) collections have a very different role  
[0:42:01](https://youtu.be/APUCMSPiNh4?t=2521) we're actually talking at the collection  
[0:42:03](https://youtu.be/APUCMSPiNh4?t=2523) level and whilst this is a toy example  
[0:42:06](https://youtu.be/APUCMSPiNh4?t=2526) and you know the number of books in the  
[0:42:07](https://youtu.be/APUCMSPiNh4?t=2527) background is relative  
[0:42:08](https://youtu.be/APUCMSPiNh4?t=2528) small when you start dealing with  
[0:42:10](https://youtu.be/APUCMSPiNh4?t=2530) collections or millions of items and  
[0:42:12](https://youtu.be/APUCMSPiNh4?t=2532) somebody says yeah I'm gonna add an item  
[0:42:13](https://youtu.be/APUCMSPiNh4?t=2533) I'm going to push an item onto that so  
[0:42:16](https://youtu.be/APUCMSPiNh4?t=2536) let's create a copy of it all million  
[0:42:19](https://youtu.be/APUCMSPiNh4?t=2539) items and then add one that's clearly  
[0:42:21](https://youtu.be/APUCMSPiNh4?t=2541) going to be an expensive way of going  
[0:42:22](https://youtu.be/APUCMSPiNh4?t=2542) about stuff and it's not merely a case  
[0:42:24](https://youtu.be/APUCMSPiNh4?t=2544) of don't worry the memory the memory on  
[0:42:26](https://youtu.be/APUCMSPiNh4?t=2546) your machine will catch up eventually  
[0:42:28](https://youtu.be/APUCMSPiNh4?t=2548) this we've we've we've have actually  
[0:42:30](https://youtu.be/APUCMSPiNh4?t=2550) created a problem here so a problem  
[0:42:33](https://youtu.be/APUCMSPiNh4?t=2553) which we can respond to using persistent  
[0:42:34](https://youtu.be/APUCMSPiNh4?t=2554) data structures in computing a  
[0:42:37](https://youtu.be/APUCMSPiNh4?t=2557) persistent data structures the data  
[0:42:38](https://youtu.be/APUCMSPiNh4?t=2558) structure that always preserves the  
[0:42:40](https://youtu.be/APUCMSPiNh4?t=2560) previous version itself when it is  
[0:42:41](https://youtu.be/APUCMSPiNh4?t=2561) modified again I refer you to version  
[0:42:44](https://youtu.be/APUCMSPiNh4?t=2564) control systems the reason I'm making  
[0:42:46](https://youtu.be/APUCMSPiNh4?t=2566) that point is because I had this  
[0:42:47](https://youtu.be/APUCMSPiNh4?t=2567) experience a few months ago I ran a  
[0:42:49](https://youtu.be/APUCMSPiNh4?t=2569) workshop for one company and I talked  
[0:42:51](https://youtu.be/APUCMSPiNh4?t=2571) about persistent data structures and I  
[0:42:53](https://youtu.be/APUCMSPiNh4?t=2573) introduced how to implement them and one  
[0:42:55](https://youtu.be/APUCMSPiNh4?t=2575) guy said ok I get all this this looks  
[0:42:56](https://youtu.be/APUCMSPiNh4?t=2576) really cool but I can't see how I'm  
[0:42:57](https://youtu.be/APUCMSPiNh4?t=2577) going to use it in my day to day job and  
[0:42:59](https://youtu.be/APUCMSPiNh4?t=2579) I said do you use git and he said yes  
[0:43:00](https://youtu.be/APUCMSPiNh4?t=2580) and I said you use it in your day to day  
[0:43:02](https://youtu.be/APUCMSPiNh4?t=2582) job ok this idea of retaining the  
[0:43:07](https://youtu.be/APUCMSPiNh4?t=2587) previous version it doesn't actually  
[0:43:09](https://youtu.be/APUCMSPiNh4?t=2589) have to be immutable let's be very clear  
[0:43:11](https://youtu.be/APUCMSPiNh4?t=2591) when all of software development is  
[0:43:14](https://youtu.be/APUCMSPiNh4?t=2594) ultimately about maintaining a series of  
[0:43:15](https://youtu.be/APUCMSPiNh4?t=2595) clever illusions when people say that  
[0:43:19](https://youtu.be/APUCMSPiNh4?t=2599) executing a pure function has no side  
[0:43:22](https://youtu.be/APUCMSPiNh4?t=2602) effect that is an illusion of course it  
[0:43:25](https://youtu.be/APUCMSPiNh4?t=2605) has a side effect you can actually sit  
[0:43:27](https://youtu.be/APUCMSPiNh4?t=2607) there and measure the amount of  
[0:43:29](https://youtu.be/APUCMSPiNh4?t=2609) electricity used you've changed the  
[0:43:31](https://youtu.be/APUCMSPiNh4?t=2611) entropy of the universe I think that's a  
[0:43:33](https://youtu.be/APUCMSPiNh4?t=2613) major side effect ok so if you're a  
[0:43:36](https://youtu.be/APUCMSPiNh4?t=2616) Haskell program you'll think you're not  
[0:43:37](https://youtu.be/APUCMSPiNh4?t=2617) changing the universe in the way that  
[0:43:39](https://youtu.be/APUCMSPiNh4?t=2619) you intended for good and whatever you  
[0:43:43](https://youtu.be/APUCMSPiNh4?t=2623) are changing the universe it is a  
[0:43:44](https://youtu.be/APUCMSPiNh4?t=2624) measurable effect but that turns out to  
[0:43:46](https://youtu.be/APUCMSPiNh4?t=2626) be not the effect we're focused on the  
[0:43:48](https://youtu.be/APUCMSPiNh4?t=2628) code so as long as we maintain an  
[0:43:49](https://youtu.be/APUCMSPiNh4?t=2629) illusion then that's what it's about  
[0:43:52](https://youtu.be/APUCMSPiNh4?t=2632) that isn't ultimately what any  
[0:43:53](https://youtu.be/APUCMSPiNh4?t=2633) optimization is about it's about  
[0:43:55](https://youtu.be/APUCMSPiNh4?t=2635) maintaining an illusion of something  
[0:43:58](https://youtu.be/APUCMSPiNh4?t=2638) else but doing it in a different way so  
[0:44:00](https://youtu.be/APUCMSPiNh4?t=2640) what we need such data structures are  
[0:44:02](https://youtu.be/APUCMSPiNh4?t=2642) effectively immutable as their  
[0:44:04](https://youtu.be/APUCMSPiNh4?t=2644) operations do not visibly update the  
[0:44:06](https://youtu.be/APUCMSPiNh4?t=2646) structure in place but instead yield and  
[0:44:08](https://youtu.be/APUCMSPiNh4?t=2648) you update a structure we will make it  
[0:44:10](https://youtu.be/APUCMSPiNh4?t=2650) look as if we have lots of fresh new  
[0:44:12](https://youtu.be/APUCMSPiNh4?t=2652) stacks in memory but actually that's  
[0:44:14](https://youtu.be/APUCMSPiNh4?t=2654) just an illusion don't confuse this with  
[0:44:16](https://youtu.be/APUCMSPiNh4?t=2656) the idea of persistence in sense of data  
[0:44:19](https://youtu.be/APUCMSPiNh4?t=2659) storage okay so let's let's look  
[0:44:21](https://youtu.be/APUCMSPiNh4?t=2661) his favorite default data structure the  
[0:44:23](https://youtu.be/APUCMSPiNh4?t=2663) array and I'm not gonna get fired to do  
[0:44:27](https://youtu.be/APUCMSPiNh4?t=2667) persistent data structures that is  
[0:44:28](https://youtu.be/APUCMSPiNh4?t=2668) really a topic that you can for which  
[0:44:30](https://youtu.be/APUCMSPiNh4?t=2670) there was an awful lot of very  
[0:44:31](https://youtu.be/APUCMSPiNh4?t=2671) interesting research but let's start  
[0:44:32](https://youtu.be/APUCMSPiNh4?t=2672) with the simple stuff and a right so an  
[0:44:35](https://youtu.be/APUCMSPiNh4?t=2675) array referred to as a okay that's how  
[0:44:38](https://youtu.be/APUCMSPiNh4?t=2678) am I going to make this if I make this  
[0:44:40](https://youtu.be/APUCMSPiNh4?t=2680) as stack so I've got a cup or items okay  
[0:44:43](https://youtu.be/APUCMSPiNh4?t=2683) how do I pop from it well that's easy  
[0:44:44](https://youtu.be/APUCMSPiNh4?t=2684) first of all I'm gonna say B is equal to  
[0:44:47](https://youtu.be/APUCMSPiNh4?t=2687) a so we're now pointing at the same  
[0:44:48](https://youtu.be/APUCMSPiNh4?t=2688) stack than I ago okay B is a dot pot at  
[0:44:51](https://youtu.be/APUCMSPiNh4?t=2691) this point I've now got a referring to a  
[0:44:56](https://youtu.be/APUCMSPiNh4?t=2696) stack of I got a referring to a stack of  
[0:45:00](https://youtu.be/APUCMSPiNh4?t=2700) four items and I've got C referring to a  
[0:45:03](https://youtu.be/APUCMSPiNh4?t=2703) stack of three items which happen to be  
[0:45:05](https://youtu.be/APUCMSPiNh4?t=2705) the same as the ones that a is referring  
[0:45:08](https://youtu.be/APUCMSPiNh4?t=2708) to but that doesn't matter there is yeah  
[0:45:10](https://youtu.be/APUCMSPiNh4?t=2710) it's a little ushion we haven't actually  
[0:45:11](https://youtu.be/APUCMSPiNh4?t=2711) had to copy this stuff and this is great  
[0:45:13](https://youtu.be/APUCMSPiNh4?t=2713) it doesn't work push though so let's  
[0:45:15](https://youtu.be/APUCMSPiNh4?t=2715) shift that to a linked structure which  
[0:45:18](https://youtu.be/APUCMSPiNh4?t=2718) point we can recover this okay a B is a  
[0:45:20](https://youtu.be/APUCMSPiNh4?t=2720) C is a pape we can move through and then  
[0:45:24](https://youtu.be/APUCMSPiNh4?t=2724) the clever bit which is where we do push  
[0:45:27](https://youtu.be/APUCMSPiNh4?t=2727) okay and we can have the sneaking off  
[0:45:29](https://youtu.be/APUCMSPiNh4?t=2729) into memory I can quite happily say e is  
[0:45:31](https://youtu.be/APUCMSPiNh4?t=2731) the push of a different value there and  
[0:45:33](https://youtu.be/APUCMSPiNh4?t=2733) we end up with a tree going off into  
[0:45:35](https://youtu.be/APUCMSPiNh4?t=2735) that so we've got a shared data  
[0:45:36](https://youtu.be/APUCMSPiNh4?t=2736) structure if you try and do this in  
[0:45:39](https://youtu.be/APUCMSPiNh4?t=2739) systems without garbage collection good  
[0:45:41](https://youtu.be/APUCMSPiNh4?t=2741) luck to you it's non-trivial it's a bit  
[0:45:45](https://youtu.be/APUCMSPiNh4?t=2745) of a pain to be precise but what we've  
[0:45:47](https://youtu.be/APUCMSPiNh4?t=2747) done there is maintained an illusion as  
[0:45:49](https://youtu.be/APUCMSPiNh4?t=2749) far as we are concerned if you look at  
[0:45:51](https://youtu.be/APUCMSPiNh4?t=2751) those three roots a D and E we've got  
[0:45:53](https://youtu.be/APUCMSPiNh4?t=2753) three stacks up there but you're only  
[0:45:56](https://youtu.be/APUCMSPiNh4?t=2756) seeing one data structure that's linked  
[0:45:58](https://youtu.be/APUCMSPiNh4?t=2758) we got three stacks up there  
[0:45:59](https://youtu.be/APUCMSPiNh4?t=2759) there is a which has four elements there  
[0:46:01](https://youtu.be/APUCMSPiNh4?t=2761) is D which has five elements the top of  
[0:46:04](https://youtu.be/APUCMSPiNh4?t=2764) which is X and the other four are  
[0:46:05](https://youtu.be/APUCMSPiNh4?t=2765) identical to a there's E which has five  
[0:46:08](https://youtu.be/APUCMSPiNh4?t=2768) elements the top of which is Y and the  
[0:46:09](https://youtu.be/APUCMSPiNh4?t=2769) other four are identical to those in a  
[0:46:11](https://youtu.be/APUCMSPiNh4?t=2771) so that is the essence if you like of a  
[0:46:13](https://youtu.be/APUCMSPiNh4?t=2773) persistent data structure however to  
[0:46:16](https://youtu.be/APUCMSPiNh4?t=2776) maintain this illusion there are some  
[0:46:17](https://youtu.be/APUCMSPiNh4?t=2777) rules there are some house rules and we  
[0:46:21](https://youtu.be/APUCMSPiNh4?t=2781) also recognize this is not a new idea  
[0:46:22](https://youtu.be/APUCMSPiNh4?t=2782) I mentioned 1950s what I was really  
[0:46:25](https://youtu.be/APUCMSPiNh4?t=2785) referring to was Lisp which is kind of  
[0:46:29](https://youtu.be/APUCMSPiNh4?t=2789) similar age to Fortran although the  
[0:46:31](https://youtu.be/APUCMSPiNh4?t=2791) first proper implementations didn't come  
[0:46:33](https://youtu.be/APUCMSPiNh4?t=2793) about till the early sixties but it was  
[0:46:35](https://youtu.be/APUCMSPiNh4?t=2795) all there  
[0:46:36](https://youtu.be/APUCMSPiNh4?t=2796) is a very very old idea and that is the  
[0:46:38](https://youtu.be/APUCMSPiNh4?t=2798) essence of the illusion that lisp offers  
[0:46:40](https://youtu.be/APUCMSPiNh4?t=2800) people so we can go back to our stack  
[0:46:45](https://youtu.be/APUCMSPiNh4?t=2805) and we can offer a very different world  
[0:46:46](https://youtu.be/APUCMSPiNh4?t=2806) view on it instead of thinking of a  
[0:46:48](https://youtu.be/APUCMSPiNh4?t=2808) stack as being a thing that you change  
[0:46:50](https://youtu.be/APUCMSPiNh4?t=2810) it's the thing you go to ask questions  
[0:46:52](https://youtu.be/APUCMSPiNh4?t=2812) off so we're going to change there we go  
[0:46:55](https://youtu.be/APUCMSPiNh4?t=2815) we've got depth top no difference there  
[0:46:57](https://youtu.be/APUCMSPiNh4?t=2817) pop is now I would like I'm not going to  
[0:47:01](https://youtu.be/APUCMSPiNh4?t=2821) pop a thing I'm going to basically say  
[0:47:04](https://youtu.be/APUCMSPiNh4?t=2824) given what you are what would you be  
[0:47:06](https://youtu.be/APUCMSPiNh4?t=2826) without your top element yeah  
[0:47:09](https://youtu.be/APUCMSPiNh4?t=2829) with pop or without top yeah  
[0:47:12](https://youtu.be/APUCMSPiNh4?t=2832) what would you be with this extra top  
[0:47:15](https://youtu.be/APUCMSPiNh4?t=2835) element so it becomes a much more  
[0:47:17](https://youtu.be/APUCMSPiNh4?t=2837) serious as much more polite conversation  
[0:47:19](https://youtu.be/APUCMSPiNh4?t=2839) based on leading questions admittedly so  
[0:47:22](https://youtu.be/APUCMSPiNh4?t=2842) we have a very different way of looking  
[0:47:25](https://youtu.be/APUCMSPiNh4?t=2845) at this because things never change what  
[0:47:28](https://youtu.be/APUCMSPiNh4?t=2848) I'm going to do here is I'm going to  
[0:47:29](https://youtu.be/APUCMSPiNh4?t=2849) recognize that the stack has very simple  
[0:47:30](https://youtu.be/APUCMSPiNh4?t=2850) state model and it turns out that all  
[0:47:33](https://youtu.be/APUCMSPiNh4?t=2853) empty stacks are equivalent and I can  
[0:47:36](https://youtu.be/APUCMSPiNh4?t=2856) actually describe the behavior for them  
[0:47:37](https://youtu.be/APUCMSPiNh4?t=2857) so I'm actually going to implement the  
[0:47:38](https://youtu.be/APUCMSPiNh4?t=2858) interface say empty I have a class for  
[0:47:43](https://youtu.be/APUCMSPiNh4?t=2863) empty stacks and there are there we go  
[0:47:46](https://youtu.be/APUCMSPiNh4?t=2866) the depth is always 0 the top that  
[0:47:49](https://youtu.be/APUCMSPiNh4?t=2869) doesn't have one so it always throws  
[0:47:50](https://youtu.be/APUCMSPiNh4?t=2870) illegal state exception pop it always  
[0:47:52](https://youtu.be/APUCMSPiNh4?t=2872) throws illegal stay exception and when I  
[0:47:54](https://youtu.be/APUCMSPiNh4?t=2874) come to push something it returns a non  
[0:47:57](https://youtu.be/APUCMSPiNh4?t=2877) empty stack I'll factor out a few things  
[0:48:00](https://youtu.be/APUCMSPiNh4?t=2880) here just a bit tidier so we've got that  
[0:48:03](https://youtu.be/APUCMSPiNh4?t=2883) and then when it comes to the non empty  
[0:48:06](https://youtu.be/APUCMSPiNh4?t=2886) version then the death is always one  
[0:48:09](https://youtu.be/APUCMSPiNh4?t=2889) plus the depth of whatever it was if  
[0:48:11](https://youtu.be/APUCMSPiNh4?t=2891) you're concerned that this leads to  
[0:48:12](https://youtu.be/APUCMSPiNh4?t=2892) linear a linear cost you can also cache  
[0:48:14](https://youtu.be/APUCMSPiNh4?t=2894) the lengths because it will never change  
[0:48:17](https://youtu.be/APUCMSPiNh4?t=2897) that's the benefit here and the top is  
[0:48:21](https://youtu.be/APUCMSPiNh4?t=2901) always the top is never an if and so on  
[0:48:24](https://youtu.be/APUCMSPiNh4?t=2904) so it turns out this is surprisingly  
[0:48:27](https://youtu.be/APUCMSPiNh4?t=2907) simple stacks can be empty or non empty  
[0:48:29](https://youtu.be/APUCMSPiNh4?t=2909) the behavior for empty is always the  
[0:48:31](https://youtu.be/APUCMSPiNh4?t=2911) same behavior for non empty is always  
[0:48:34](https://youtu.be/APUCMSPiNh4?t=2914) the same and what we've done is we've  
[0:48:36](https://youtu.be/APUCMSPiNh4?t=2916) eliminated if statements indeed there is  
[0:48:38](https://youtu.be/APUCMSPiNh4?t=2918) indeed a thing called the anti F  
[0:48:40](https://youtu.be/APUCMSPiNh4?t=2920) campaign absolutely slightly  
[0:48:44](https://youtu.be/APUCMSPiNh4?t=2924) tongue-in-cheek but unless you know puts  
[0:48:46](https://youtu.be/APUCMSPiNh4?t=2926) in an import point the goal of the anti  
[0:48:48](https://youtu.be/APUCMSPiNh4?t=2928) if campaign is to raise awareness the  
[0:48:49](https://youtu.be/APUCMSPiNh4?t=2929) effect  
[0:48:49](https://youtu.be/APUCMSPiNh4?t=2929) use of software design principles and  
[0:48:51](https://youtu.be/APUCMSPiNh4?t=2931) practices by first are all removing bad  
[0:48:53](https://youtu.be/APUCMSPiNh4?t=2933) dangerous ifs yeah which is all of them  
[0:48:56](https://youtu.be/APUCMSPiNh4?t=2936) branching code confuses people yeah we  
[0:48:59](https://youtu.be/APUCMSPiNh4?t=2939) are we are merely mortal and we are  
[0:49:00](https://youtu.be/APUCMSPiNh4?t=2940) human we struggle with ands and ORS and  
[0:49:02](https://youtu.be/APUCMSPiNh4?t=2942) ifs analysis and these are where bugs  
[0:49:05](https://youtu.be/APUCMSPiNh4?t=2945) come home to roost so the difference in  
[0:49:09](https://youtu.be/APUCMSPiNh4?t=2949) usage between our two different stack  
[0:49:10](https://youtu.be/APUCMSPiNh4?t=2950) models is previously we said we've got a  
[0:49:13](https://youtu.be/APUCMSPiNh4?t=2953) stack now I'm gonna push something on it  
[0:49:14](https://youtu.be/APUCMSPiNh4?t=2954) now I'm gonna change it again here what  
[0:49:17](https://youtu.be/APUCMSPiNh4?t=2957) we do is we say well I'm going to start  
[0:49:19](https://youtu.be/APUCMSPiNh4?t=2959) with an empty stack and then I'm gonna  
[0:49:22](https://youtu.be/APUCMSPiNh4?t=2962) want it's the stack that results from  
[0:49:24](https://youtu.be/APUCMSPiNh4?t=2964) empty having NDC pushed onto it having  
[0:49:27](https://youtu.be/APUCMSPiNh4?t=2967) London pushed onto it so if you like  
[0:49:30](https://youtu.be/APUCMSPiNh4?t=2970) there's a much more much more obvious  
[0:49:31](https://youtu.be/APUCMSPiNh4?t=2971) data flow going on in this we've  
[0:49:35](https://youtu.be/APUCMSPiNh4?t=2975) replaced a sort of like then do this  
[0:49:37](https://youtu.be/APUCMSPiNh4?t=2977) then do this then do this with a flow of  
[0:49:39](https://youtu.be/APUCMSPiNh4?t=2979) possibilities a stream of changes or a  
[0:49:42](https://youtu.be/APUCMSPiNh4?t=2982) stream of application now for this to  
[0:49:45](https://youtu.be/APUCMSPiNh4?t=2985) work there is an illusion we must  
[0:49:46](https://youtu.be/APUCMSPiNh4?t=2986) maintain the type that you put in there  
[0:49:50](https://youtu.be/APUCMSPiNh4?t=2990) so string works nicely there's to be a  
[0:49:52](https://youtu.be/APUCMSPiNh4?t=2992) type that is immutable or you must  
[0:49:54](https://youtu.be/APUCMSPiNh4?t=2994) guarantee the only instances that will  
[0:49:57](https://youtu.be/APUCMSPiNh4?t=2997) never be changed there because we have a  
[0:49:59](https://youtu.be/APUCMSPiNh4?t=2999) shared data structure if you put inside  
[0:50:01](https://youtu.be/APUCMSPiNh4?t=3001) that collection objects that can be  
[0:50:03](https://youtu.be/APUCMSPiNh4?t=3003) changed you will break that illusion now  
[0:50:06](https://youtu.be/APUCMSPiNh4?t=3006) you're already doing this without  
[0:50:07](https://youtu.be/APUCMSPiNh4?t=3007) realizing it particularly if you're  
[0:50:08](https://youtu.be/APUCMSPiNh4?t=3008) using things like mapped or dictionary  
[0:50:12](https://youtu.be/APUCMSPiNh4?t=3012) can collections because you're always  
[0:50:15](https://youtu.be/APUCMSPiNh4?t=3015) told if you look at the small print  
[0:50:16](https://youtu.be/APUCMSPiNh4?t=3016) please don't change the key you're not  
[0:50:19](https://youtu.be/APUCMSPiNh4?t=3019) allowed to please don't change this  
[0:50:20](https://youtu.be/APUCMSPiNh4?t=3020) value because you will actually blow the  
[0:50:22](https://youtu.be/APUCMSPiNh4?t=3022) encapsulation of the data structure  
[0:50:24](https://youtu.be/APUCMSPiNh4?t=3024) apart because if a data structure is  
[0:50:26](https://youtu.be/APUCMSPiNh4?t=3026) carefully either by hash code or by sort  
[0:50:29](https://youtu.be/APUCMSPiNh4?t=3029) position put and a value in a particular  
[0:50:32](https://youtu.be/APUCMSPiNh4?t=3032) location and you change via a different  
[0:50:34](https://youtu.be/APUCMSPiNh4?t=3034) route via a reference to it it's hash  
[0:50:36](https://youtu.be/APUCMSPiNh4?t=3036) code or its salt position it will never  
[0:50:38](https://youtu.be/APUCMSPiNh4?t=3038) find it you've actually undermined the  
[0:50:41](https://youtu.be/APUCMSPiNh4?t=3041) encapsulation of another object so  
[0:50:42](https://youtu.be/APUCMSPiNh4?t=3042) there's no me a polite warning but that  
[0:50:44](https://youtu.be/APUCMSPiNh4?t=3044) is enforcement by comment or enforcement  
[0:50:46](https://youtu.be/APUCMSPiNh4?t=3046) by MSDN which is pay for it's printed on  
[0:50:49](https://youtu.be/APUCMSPiNh4?t=3049) so here we have this idea of replaced  
[0:50:52](https://youtu.be/APUCMSPiNh4?t=3052) mutable collections with persistent  
[0:50:53](https://youtu.be/APUCMSPiNh4?t=3053) collections either an actual persistent  
[0:50:55](https://youtu.be/APUCMSPiNh4?t=3055) collection or using something in a  
[0:50:57](https://youtu.be/APUCMSPiNh4?t=3057) persistent manner I replace musical  
[0:50:59](https://youtu.be/APUCMSPiNh4?t=3059) collection values with immutable values  
[0:51:01](https://youtu.be/APUCMSPiNh4?t=3061) make sure the contents  
[0:51:02](https://youtu.be/APUCMSPiNh4?t=3062) unchanged when we kind of dealt with  
[0:51:03](https://youtu.be/APUCMSPiNh4?t=3063) that before and replace state based  
[0:51:05](https://youtu.be/APUCMSPiNh4?t=3065) object behavior with polymorphism  
[0:51:06](https://youtu.be/APUCMSPiNh4?t=3066) because they never change now a final  
[0:51:08](https://youtu.be/APUCMSPiNh4?t=3068) bit that I want to cover is this  
[0:51:11](https://youtu.be/APUCMSPiNh4?t=3071) question of control flow so there's a  
[0:51:17](https://youtu.be/APUCMSPiNh4?t=3077) really nice example in 97 things every  
[0:51:19](https://youtu.be/APUCMSPiNh4?t=3079) programmer should know from Birkhoff  
[0:51:20](https://youtu.be/APUCMSPiNh4?t=3080) Naugle put the mouse down and step away  
[0:51:23](https://youtu.be/APUCMSPiNh4?t=3083) from the keyboard now this is just  
[0:51:24](https://youtu.be/APUCMSPiNh4?t=3084) generally good advice okay if you are  
[0:51:26](https://youtu.be/APUCMSPiNh4?t=3086) struggling with a problem you think that  
[0:51:31](https://youtu.be/APUCMSPiNh4?t=3091) the challenge is to solve it okay that's  
[0:51:34](https://youtu.be/APUCMSPiNh4?t=3094) kind of obvious yeah I have a problem I  
[0:51:36](https://youtu.be/APUCMSPiNh4?t=3096) should solve it and what you will do is  
[0:51:37](https://youtu.be/APUCMSPiNh4?t=3097) you will dig will dig into it and you  
[0:51:40](https://youtu.be/APUCMSPiNh4?t=3100) will dig further what you will  
[0:51:41](https://youtu.be/APUCMSPiNh4?t=3101) ultimately achieve if you've not solved  
[0:51:43](https://youtu.be/APUCMSPiNh4?t=3103) it is a very big hole you'll find  
[0:51:46](https://youtu.be/APUCMSPiNh4?t=3106) yourself at the bottom of it it turns  
[0:51:48](https://youtu.be/APUCMSPiNh4?t=3108) out that it's very difficult to solve  
[0:51:49](https://youtu.be/APUCMSPiNh4?t=3109) certain kinds of problem at the level at  
[0:51:52](https://youtu.be/APUCMSPiNh4?t=3112) which you failed them you need to do  
[0:51:53](https://youtu.be/APUCMSPiNh4?t=3113) something different so the advice here  
[0:51:55](https://youtu.be/APUCMSPiNh4?t=3115) is put the mouse down step away from the  
[0:51:57](https://youtu.be/APUCMSPiNh4?t=3117) keyboard and he uses a particular  
[0:51:58](https://youtu.be/APUCMSPiNh4?t=3118) example to motivate this I have a  
[0:52:01](https://youtu.be/APUCMSPiNh4?t=3121) different way of looking at I've always  
[0:52:02](https://youtu.be/APUCMSPiNh4?t=3122) recommended that people do something  
[0:52:05](https://youtu.be/APUCMSPiNh4?t=3125) that changes the situation there therein  
[0:52:07](https://youtu.be/APUCMSPiNh4?t=3127) you need to think differently if you are  
[0:52:10](https://youtu.be/APUCMSPiNh4?t=3130) stuck in something and you are thinking  
[0:52:11](https://youtu.be/APUCMSPiNh4?t=3131) the same way then that is your problem  
[0:52:13](https://youtu.be/APUCMSPiNh4?t=3133) and so I often tell people if you've  
[0:52:15](https://youtu.be/APUCMSPiNh4?t=3135) been if you've been mainlining coffee  
[0:52:17](https://youtu.be/APUCMSPiNh4?t=3137) all morning and you have a problem and  
[0:52:19](https://youtu.be/APUCMSPiNh4?t=3139) you are you're just filling yourself  
[0:52:21](https://youtu.be/APUCMSPiNh4?t=3141) with more coffee to solve it then I'm  
[0:52:23](https://youtu.be/APUCMSPiNh4?t=3143) going to I've got a radical suggestion  
[0:52:24](https://youtu.be/APUCMSPiNh4?t=3144) for you try some chamomile tea  
[0:52:26](https://youtu.be/APUCMSPiNh4?t=3146) because clearly coffee is not the answer  
[0:52:29](https://youtu.be/APUCMSPiNh4?t=3149) in this case if you're sitting there  
[0:52:31](https://youtu.be/APUCMSPiNh4?t=3151) virtuous is saying well hell I don't  
[0:52:32](https://youtu.be/APUCMSPiNh4?t=3152) drink caffeine I drink chamomile tea  
[0:52:34](https://youtu.be/APUCMSPiNh4?t=3154) then my recommendation to you is drink  
[0:52:36](https://youtu.be/APUCMSPiNh4?t=3156) some caffeine because the thing that  
[0:52:39](https://youtu.be/APUCMSPiNh4?t=3159) you're doing you need to change you need  
[0:52:41](https://youtu.be/APUCMSPiNh4?t=3161) to think differently and trust me if you  
[0:52:42](https://youtu.be/APUCMSPiNh4?t=3162) don't drink caffeine drinking caffeine  
[0:52:43](https://youtu.be/APUCMSPiNh4?t=3163) will change your behavior if you are  
[0:52:47](https://youtu.be/APUCMSPiNh4?t=3167) sitting down stand up yeah it's kind of  
[0:52:50](https://youtu.be/APUCMSPiNh4?t=3170) there go home go for a walk whatever it  
[0:52:53](https://youtu.be/APUCMSPiNh4?t=3173) is it's gonna look at pictures of cats  
[0:52:54](https://youtu.be/APUCMSPiNh4?t=3174) unless you do that all the time ok so  
[0:52:56](https://youtu.be/APUCMSPiNh4?t=3176) the point here and he gives a specific  
[0:52:58](https://youtu.be/APUCMSPiNh4?t=3178) example maybe was that he said he was he  
[0:53:01](https://youtu.be/APUCMSPiNh4?t=3181) was wrestling with this code and you  
[0:53:05](https://youtu.be/APUCMSPiNh4?t=3185) know you look at it it's very procedural  
[0:53:08](https://youtu.be/APUCMSPiNh4?t=3188) okay we've got string with a parse it as  
[0:53:11](https://youtu.be/APUCMSPiNh4?t=3191) an integer if that fails then clearly  
[0:53:14](https://youtu.be/APUCMSPiNh4?t=3194) the thing was not in  
[0:53:15](https://youtu.be/APUCMSPiNh4?t=3195) integer format and then and there's a  
[0:53:17](https://youtu.be/APUCMSPiNh4?t=3197) dot dot dot here which is operative in  
[0:53:19](https://youtu.be/APUCMSPiNh4?t=3199) other words this is quite long code and  
[0:53:24](https://youtu.be/APUCMSPiNh4?t=3204) this is kind of brute force its way in  
[0:53:26](https://youtu.be/APUCMSPiNh4?t=3206) now if you're writing enterprise code  
[0:53:28](https://youtu.be/APUCMSPiNh4?t=3208) this is what you do for a living okay  
[0:53:30](https://youtu.be/APUCMSPiNh4?t=3210) but if you want to do something  
[0:53:32](https://youtu.be/APUCMSPiNh4?t=3212) different then put the mouse down and  
[0:53:34](https://youtu.be/APUCMSPiNh4?t=3214) step away from the keyboard but she did  
[0:53:36](https://youtu.be/APUCMSPiNh4?t=3216) and you came back the next day and said  
[0:53:38](https://youtu.be/APUCMSPiNh4?t=3218) what do we do I recognize this is a  
[0:53:41](https://youtu.be/APUCMSPiNh4?t=3221) different problem but there's a regular  
[0:53:43](https://youtu.be/APUCMSPiNh4?t=3223) expression that does this now there is  
[0:53:45](https://youtu.be/APUCMSPiNh4?t=3225) always the standard joke you know I had  
[0:53:47](https://youtu.be/APUCMSPiNh4?t=3227) a problem I solved it with regular  
[0:53:48](https://youtu.be/APUCMSPiNh4?t=3228) expressions then I'll have two problems  
[0:53:50](https://youtu.be/APUCMSPiNh4?t=3230) which I I always think shows a lack of  
[0:53:53](https://youtu.be/APUCMSPiNh4?t=3233) appreciation for regular expressions  
[0:53:56](https://youtu.be/APUCMSPiNh4?t=3236) I now have star problems you know on the  
[0:54:01](https://youtu.be/APUCMSPiNh4?t=3241) other hand this goes right back to what  
[0:54:06](https://youtu.be/APUCMSPiNh4?t=3246) we're doing here is we are replacing a  
[0:54:07](https://youtu.be/APUCMSPiNh4?t=3247) very explicit decision structure with  
[0:54:10](https://youtu.be/APUCMSPiNh4?t=3250) something that is far far more  
[0:54:12](https://youtu.be/APUCMSPiNh4?t=3252) intelligent we are using an intelligent  
[0:54:15](https://youtu.be/APUCMSPiNh4?t=3255) data structure and I look at this and  
[0:54:16](https://youtu.be/APUCMSPiNh4?t=3256) again I use my kids as sort of a sort of  
[0:54:19](https://youtu.be/APUCMSPiNh4?t=3259) simple way of thinking how would I  
[0:54:20](https://youtu.be/APUCMSPiNh4?t=3260) explain this to my kids  
[0:54:22](https://youtu.be/APUCMSPiNh4?t=3262) it's as bad as trying to explain public  
[0:54:25](https://youtu.be/APUCMSPiNh4?t=3265) you know public class blow our public  
[0:54:27](https://youtu.be/APUCMSPiNh4?t=3267) public static void main  
[0:54:28](https://youtu.be/APUCMSPiNh4?t=3268) you know I've talking Python it's a lot  
[0:54:30](https://youtu.be/APUCMSPiNh4?t=3270) easier this is just like putting needles  
[0:54:32](https://youtu.be/APUCMSPiNh4?t=3272) in your eyes but without the fun so the  
[0:54:35](https://youtu.be/APUCMSPiNh4?t=3275) point here is that I can explain the  
[0:54:38](https://youtu.be/APUCMSPiNh4?t=3278) time format very easily to somebody who  
[0:54:41](https://youtu.be/APUCMSPiNh4?t=3281) is not a developer in comparison to this  
[0:54:43](https://youtu.be/APUCMSPiNh4?t=3283) this is a painful way of walking through  
[0:54:45](https://youtu.be/APUCMSPiNh4?t=3285) this this I can say you might not be  
[0:54:47](https://youtu.be/APUCMSPiNh4?t=3287) familiar with the notation but let me  
[0:54:48](https://youtu.be/APUCMSPiNh4?t=3288) show you what's going on yeah the one  
[0:54:50](https://youtu.be/APUCMSPiNh4?t=3290) thing it doesn't I did actually get a  
[0:54:51](https://youtu.be/APUCMSPiNh4?t=3291) bug report for this in the book it said  
[0:54:54](https://youtu.be/APUCMSPiNh4?t=3294) it doesn't account for leap seconds and  
[0:54:56](https://youtu.be/APUCMSPiNh4?t=3296) I said if you can properly account for  
[0:54:59](https://youtu.be/APUCMSPiNh4?t=3299) leap seconds then file a bug report  
[0:55:01](https://youtu.be/APUCMSPiNh4?t=3301) because I've met very few people  
[0:55:02](https://youtu.be/APUCMSPiNh4?t=3302) problems in the front row know enough  
[0:55:05](https://youtu.be/APUCMSPiNh4?t=3305) about leap seconds to be able to file an  
[0:55:06](https://youtu.be/APUCMSPiNh4?t=3306) accurate bug report so let us just work  
[0:55:08](https://youtu.be/APUCMSPiNh4?t=3308) with something we know works most of the  
[0:55:10](https://youtu.be/APUCMSPiNh4?t=3310) time so I close with a different  
[0:55:16](https://youtu.be/APUCMSPiNh4?t=3316) different example and some want to talk  
[0:55:18](https://youtu.be/APUCMSPiNh4?t=3318) about this idea of moving away from the  
[0:55:21](https://youtu.be/APUCMSPiNh4?t=3321) explicitness of code that we we get  
[0:55:24](https://youtu.be/APUCMSPiNh4?t=3324) become comfortable with the idea after  
[0:55:26](https://youtu.be/APUCMSPiNh4?t=3326) after many years and become comfortable  
[0:55:28](https://youtu.be/APUCMSPiNh4?t=3328) the idea  
[0:55:29](https://youtu.be/APUCMSPiNh4?t=3329) we have become program counters which i  
[0:55:31](https://youtu.be/APUCMSPiNh4?t=3331) think is particularly demeaning from a  
[0:55:33](https://youtu.be/APUCMSPiNh4?t=3333) human point of view you're very good at  
[0:55:35](https://youtu.be/APUCMSPiNh4?t=3335) going through code and going if and wile  
[0:55:37](https://youtu.be/APUCMSPiNh4?t=3337) and you know structuring it all together  
[0:55:39](https://youtu.be/APUCMSPiNh4?t=3339) there is this idea that perhaps we don't  
[0:55:42](https://youtu.be/APUCMSPiNh4?t=3342) need to spell out every single loop and  
[0:55:46](https://youtu.be/APUCMSPiNh4?t=3346) decision but I'm going to focus on loops  
[0:55:47](https://youtu.be/APUCMSPiNh4?t=3347) for the moment we don't need to spell  
[0:55:49](https://youtu.be/APUCMSPiNh4?t=3349) out every every loop you have written  
[0:55:52](https://youtu.be/APUCMSPiNh4?t=3352) all the loops you will ever need to  
[0:55:55](https://youtu.be/APUCMSPiNh4?t=3355) write in your life in fact you've  
[0:55:58](https://youtu.be/APUCMSPiNh4?t=3358) written more than you know the kind of  
[0:56:00](https://youtu.be/APUCMSPiNh4?t=3360) loops that I mean you know the one that  
[0:56:02](https://youtu.be/APUCMSPiNh4?t=3362) goes through everything and does the  
[0:56:03](https://youtu.be/APUCMSPiNh4?t=3363) same thing to everything in a collection  
[0:56:04](https://youtu.be/APUCMSPiNh4?t=3364) and then there's the accumulation loop  
[0:56:06](https://youtu.be/APUCMSPiNh4?t=3366) and then there's the loop that does  
[0:56:08](https://youtu.be/APUCMSPiNh4?t=3368) something on a condition and then  
[0:56:09](https://youtu.be/APUCMSPiNh4?t=3369) there's the you've got this all in your  
[0:56:12](https://youtu.be/APUCMSPiNh4?t=3372) head it's all lovely and you know it  
[0:56:14](https://youtu.be/APUCMSPiNh4?t=3374) doesn't take much program experience and  
[0:56:15](https://youtu.be/APUCMSPiNh4?t=3375) then you probably encountered with the  
[0:56:16](https://youtu.be/APUCMSPiNh4?t=3376) kinds of loop that you will ever need  
[0:56:19](https://youtu.be/APUCMSPiNh4?t=3379) and yet you have to repeat them yeah  
[0:56:23](https://youtu.be/APUCMSPiNh4?t=3383) it's something profound and self  
[0:56:25](https://youtu.be/APUCMSPiNh4?t=3385) referential in the repetition of writing  
[0:56:27](https://youtu.be/APUCMSPiNh4?t=3387) a loop and perhaps there's something  
[0:56:29](https://youtu.be/APUCMSPiNh4?t=3389) calming and kind of like there's a sort  
[0:56:31](https://youtu.be/APUCMSPiNh4?t=3391) of a yogic feeling to it so it's a  
[0:56:33](https://youtu.be/APUCMSPiNh4?t=3393) mantra that you chant every time you're  
[0:56:35](https://youtu.be/APUCMSPiNh4?t=3395) trying to get some work done  
[0:56:36](https://youtu.be/APUCMSPiNh4?t=3396) by avoiding the work and writing a loop  
[0:56:37](https://youtu.be/APUCMSPiNh4?t=3397) instead that somebody will then have to  
[0:56:39](https://youtu.be/APUCMSPiNh4?t=3399) come along and interpret because the  
[0:56:41](https://youtu.be/APUCMSPiNh4?t=3401) loop is all about bookkeeping it's all  
[0:56:44](https://youtu.be/APUCMSPiNh4?t=3404) about how I'm going to set up this very  
[0:56:45](https://youtu.be/APUCMSPiNh4?t=3405) I'm going to do this like a dis and then  
[0:56:46](https://youtu.be/APUCMSPiNh4?t=3406) and somewhere inside it is what you're  
[0:56:48](https://youtu.be/APUCMSPiNh4?t=3408) actually trying to do so we see that  
[0:56:50](https://youtu.be/APUCMSPiNh4?t=3410) there is a trend in many languages that  
[0:56:53](https://youtu.be/APUCMSPiNh4?t=3413) did not start there to embrace forms  
[0:56:56](https://youtu.be/APUCMSPiNh4?t=3416) that look like this so Java has ended up  
[0:56:58](https://youtu.be/APUCMSPiNh4?t=3418) with a collection pipelines model  
[0:56:59](https://youtu.be/APUCMSPiNh4?t=3419) c-sharp has ended up with link embodying  
[0:57:02](https://youtu.be/APUCMSPiNh4?t=3422) a more sort of a predicate logic type  
[0:57:04](https://youtu.be/APUCMSPiNh4?t=3424) thing and whichever way that's the  
[0:57:08](https://youtu.be/APUCMSPiNh4?t=3428) direction that this is heading and so  
[0:57:12](https://youtu.be/APUCMSPiNh4?t=3432) rebel labs publish this begin last year  
[0:57:15](https://youtu.be/APUCMSPiNh4?t=3435) I think no the year before and they had  
[0:57:18](https://youtu.be/APUCMSPiNh4?t=3438) an example here I looked at the example  
[0:57:21](https://youtu.be/APUCMSPiNh4?t=3441) it's the one middle first stream example  
[0:57:23](https://youtu.be/APUCMSPiNh4?t=3443) I looked at the example I thought that's  
[0:57:26](https://youtu.be/APUCMSPiNh4?t=3446) wrong they've implemented it incorrectly  
[0:57:28](https://youtu.be/APUCMSPiNh4?t=3448) so I tweeted this at them and they  
[0:57:30](https://youtu.be/APUCMSPiNh4?t=3450) corrected it which is still wrong so I  
[0:57:34](https://youtu.be/APUCMSPiNh4?t=3454) don't think it's correcting it it's in  
[0:57:35](https://youtu.be/APUCMSPiNh4?t=3455) correcting it they took a wrong thing  
[0:57:37](https://youtu.be/APUCMSPiNh4?t=3457) and made it all so wrong but differently  
[0:57:38](https://youtu.be/APUCMSPiNh4?t=3458) wrong so okay I'm not expecting you to  
[0:57:41](https://youtu.be/APUCMSPiNh4?t=3461) understand  
[0:57:42](https://youtu.be/APUCMSPiNh4?t=3462) what's wrong there so let's let's let's  
[0:57:43](https://youtu.be/APUCMSPiNh4?t=3463) build this back a little bit so what  
[0:57:46](https://youtu.be/APUCMSPiNh4?t=3466) we've got is their their objective get  
[0:57:50](https://youtu.be/APUCMSPiNh4?t=3470) the unique surnames in uppercase in the  
[0:57:51](https://youtu.be/APUCMSPiNh4?t=3471) first 15 book authors that are 50 years  
[0:57:53](https://youtu.be/APUCMSPiNh4?t=3473) old or older okay so we take a library  
[0:57:56](https://youtu.be/APUCMSPiNh4?t=3476) which is some kind of collection books  
[0:57:58](https://youtu.be/APUCMSPiNh4?t=3478) we stream it we mat and take a book we  
[0:58:00](https://youtu.be/APUCMSPiNh4?t=3480) get the author we filter filter in  
[0:58:03](https://youtu.be/APUCMSPiNh4?t=3483) select select will be a far better word  
[0:58:06](https://youtu.be/APUCMSPiNh4?t=3486) we've filtering we look at the author we  
[0:58:08](https://youtu.be/APUCMSPiNh4?t=3488) get their age if they are 50 or over  
[0:58:10](https://youtu.be/APUCMSPiNh4?t=3490) we're having them and then we limit that  
[0:58:13](https://youtu.be/APUCMSPiNh4?t=3493) to 15 then we get the surname we shifted  
[0:58:16](https://youtu.be/APUCMSPiNh4?t=3496) to our case we Uniqua fie it and we  
[0:58:18](https://youtu.be/APUCMSPiNh4?t=3498) collect it to a list that's brilliant  
[0:58:19](https://youtu.be/APUCMSPiNh4?t=3499) but it unfortunately doesn't actually  
[0:58:20](https://youtu.be/APUCMSPiNh4?t=3500) meet the spec why not okay because I  
[0:58:25](https://youtu.be/APUCMSPiNh4?t=3505) have books I have multiple books by the  
[0:58:28](https://youtu.be/APUCMSPiNh4?t=3508) same author so if by first 15 books for  
[0:58:32](https://youtu.be/APUCMSPiNh4?t=3512) example by the same author then I  
[0:58:34](https://youtu.be/APUCMSPiNh4?t=3514) haven't actually got the first 15 book  
[0:58:37](https://youtu.be/APUCMSPiNh4?t=3517) authors that's the that's the that's not  
[0:58:39](https://youtu.be/APUCMSPiNh4?t=3519) the that's not the same thing so okay  
[0:58:42](https://youtu.be/APUCMSPiNh4?t=3522) let's try this one again so this is  
[0:58:43](https://youtu.be/APUCMSPiNh4?t=3523) their correction or in correction what  
[0:58:45](https://youtu.be/APUCMSPiNh4?t=3525) they do over 50 shift get surname  
[0:58:50](https://youtu.be/APUCMSPiNh4?t=3530) shifted to uppercase  
[0:58:51](https://youtu.be/APUCMSPiNh4?t=3531) uniqua fire limits 15 ah unfortunately  
[0:58:53](https://youtu.be/APUCMSPiNh4?t=3533) that is the first 15 unique author names  
[0:58:55](https://youtu.be/APUCMSPiNh4?t=3535) which is not the same you may have  
[0:58:57](https://youtu.be/APUCMSPiNh4?t=3537) authors that have the same surname but  
[0:58:59](https://youtu.be/APUCMSPiNh4?t=3539) are actually different so again this  
[0:59:03](https://youtu.be/APUCMSPiNh4?t=3543) this fails and actually it turns out you  
[0:59:05](https://youtu.be/APUCMSPiNh4?t=3545) need to new an equal fire in two  
[0:59:06](https://youtu.be/APUCMSPiNh4?t=3546) different places get all the authors  
[0:59:08](https://youtu.be/APUCMSPiNh4?t=3548) that are over there 50 are over get the  
[0:59:11](https://youtu.be/APUCMSPiNh4?t=3551) unique authors limit that to 15 now do  
[0:59:16](https://youtu.be/APUCMSPiNh4?t=3556) your case shifting and all the rest of  
[0:59:17](https://youtu.be/APUCMSPiNh4?t=3557) it and that actually matches their  
[0:59:19](https://youtu.be/APUCMSPiNh4?t=3559) requirements so what is interesting here  
[0:59:21](https://youtu.be/APUCMSPiNh4?t=3561) is again if you're not familiar with  
[0:59:24](https://youtu.be/APUCMSPiNh4?t=3564) this API you can actually walk through  
[0:59:26](https://youtu.be/APUCMSPiNh4?t=3566) it and understand it with the level of  
[0:59:28](https://youtu.be/APUCMSPiNh4?t=3568) explanation I have just offered you so I  
[0:59:31](https://youtu.be/APUCMSPiNh4?t=3571) did this example a couple years back and  
[0:59:33](https://youtu.be/APUCMSPiNh4?t=3573) Tricia G ventured to me she said you  
[0:59:36](https://youtu.be/APUCMSPiNh4?t=3576) know that's really good but wouldn't it  
[0:59:41](https://youtu.be/APUCMSPiNh4?t=3581) be more interesting if you showed what  
[0:59:42](https://youtu.be/APUCMSPiNh4?t=3582) the original control flow looked like  
[0:59:43](https://youtu.be/APUCMSPiNh4?t=3583) that would be compelling you know she's  
[0:59:46](https://youtu.be/APUCMSPiNh4?t=3586) right so I did that so this is the  
[0:59:49](https://youtu.be/APUCMSPiNh4?t=3589) original example as you can see it goes  
[0:59:52](https://youtu.be/APUCMSPiNh4?t=3592) on off the screen so let's just shift  
[0:59:54](https://youtu.be/APUCMSPiNh4?t=3594) the so first thing more code  
[0:59:56](https://youtu.be/APUCMSPiNh4?t=3596) next thing how much of that code is  
[0:59:58](https://youtu.be/APUCMSPiNh4?t=3598) actually about what can you see that it  
[1:00:00](https://youtu.be/APUCMSPiNh4?t=3600) is use one can you see what it's doing -  
[1:00:03](https://youtu.be/APUCMSPiNh4?t=3603) can you see that it's wrong you've got  
[1:00:05](https://youtu.be/APUCMSPiNh4?t=3605) an awful lot more things to do of course  
[1:00:07](https://youtu.be/APUCMSPiNh4?t=3607) you're intelligent you're not going to  
[1:00:08](https://youtu.be/APUCMSPiNh4?t=3608) admit this is harder Jam programmer I am  
[1:00:11](https://youtu.be/APUCMSPiNh4?t=3611) at NDC of course I'm smart enough to do  
[1:00:13](https://youtu.be/APUCMSPiNh4?t=3613) this I'm not questioning your  
[1:00:15](https://youtu.be/APUCMSPiNh4?t=3615) intelligence and question the immediacy  
[1:00:16](https://youtu.be/APUCMSPiNh4?t=3616) of this and we should move away from the  
[1:00:20](https://youtu.be/APUCMSPiNh4?t=3620) idea of hey it was hard to write so  
[1:00:21](https://youtu.be/APUCMSPiNh4?t=3621) should be hard to read we should move  
[1:00:23](https://youtu.be/APUCMSPiNh4?t=3623) away from that philosophy and the point  
[1:00:25](https://youtu.be/APUCMSPiNh4?t=3625) here is that yeah that's not as  
[1:00:27](https://youtu.be/APUCMSPiNh4?t=3627) immediate I'm having to do all of that  
[1:00:29](https://youtu.be/APUCMSPiNh4?t=3629) yeah okay remember that piece of state  
[1:00:30](https://youtu.be/APUCMSPiNh4?t=3630) this isn't a kuhmo do this this is the  
[1:00:33](https://youtu.be/APUCMSPiNh4?t=3633) in corrected example that they put up  
[1:00:35](https://youtu.be/APUCMSPiNh4?t=3635) and this is the correct one none of them  
[1:00:38](https://youtu.be/APUCMSPiNh4?t=3638) looks more or less correct or as easy is  
[1:00:40](https://youtu.be/APUCMSPiNh4?t=3640) easier or harder to read than any of the  
[1:00:42](https://youtu.be/APUCMSPiNh4?t=3642) others but when you compare it to the  
[1:00:45](https://youtu.be/APUCMSPiNh4?t=3645) pipeline version the dataflow centric  
[1:00:47](https://youtu.be/APUCMSPiNh4?t=3647) version then there's a difference so one  
[1:00:51](https://youtu.be/APUCMSPiNh4?t=3651) of the great pieces of advice given by  
[1:00:53](https://youtu.be/APUCMSPiNh4?t=3653) the author Elmore Leonard is try to  
[1:00:55](https://youtu.be/APUCMSPiNh4?t=3655) leave out the part the readers tend to  
[1:00:56](https://youtu.be/APUCMSPiNh4?t=3656) skip okay this is good for life as a  
[1:00:59](https://youtu.be/APUCMSPiNh4?t=3659) guideline  
[1:01:00](https://youtu.be/APUCMSPiNh4?t=3660) you know documentation whatever cut  
[1:01:02](https://youtu.be/APUCMSPiNh4?t=3662) things down and most of what we write is  
[1:01:05](https://youtu.be/APUCMSPiNh4?t=3665) mechanical background noise we can  
[1:01:07](https://youtu.be/APUCMSPiNh4?t=3667) refactor it away either by using  
[1:01:09](https://youtu.be/APUCMSPiNh4?t=3669) existing libraries or by learning to do  
[1:01:11](https://youtu.be/APUCMSPiNh4?t=3671) the same thing ourselves hey there's a  
[1:01:12](https://youtu.be/APUCMSPiNh4?t=3672) loop there I keep repeating it why  
[1:01:14](https://youtu.be/APUCMSPiNh4?t=3674) didn't I factor that into a method that  
[1:01:15](https://youtu.be/APUCMSPiNh4?t=3675) does that for me and there are a number  
[1:01:18](https://youtu.be/APUCMSPiNh4?t=3678) of different approaches that we can take  
[1:01:20](https://youtu.be/APUCMSPiNh4?t=3680) so what I want to end with here is it's  
[1:01:29](https://youtu.be/APUCMSPiNh4?t=3689) very simple observation that we've got a  
[1:01:33](https://youtu.be/APUCMSPiNh4?t=3693) set of our motivation here is we're not  
[1:01:36](https://youtu.be/APUCMSPiNh4?t=3696) trying to make things immutable because  
[1:01:38](https://youtu.be/APUCMSPiNh4?t=3698) people said it's good to be immutable  
[1:01:39](https://youtu.be/APUCMSPiNh4?t=3699) try to make things immutable so we can  
[1:01:41](https://youtu.be/APUCMSPiNh4?t=3701) understand it and we can change it more  
[1:01:43](https://youtu.be/APUCMSPiNh4?t=3703) easily it's it's to do it goes right  
[1:01:45](https://youtu.be/APUCMSPiNh4?t=3705) back to what John Carmack was saying  
[1:01:46](https://youtu.be/APUCMSPiNh4?t=3706) about the struggle that we have  
[1:01:48](https://youtu.be/APUCMSPiNh4?t=3708) understanding the states that our code  
[1:01:50](https://youtu.be/APUCMSPiNh4?t=3710) can be in by definition a system that is  
[1:01:53](https://youtu.be/APUCMSPiNh4?t=3713) a legacy system has these problems and  
[1:01:56](https://youtu.be/APUCMSPiNh4?t=3716) so therefore how do we dig ourselves out  
[1:01:59](https://youtu.be/APUCMSPiNh4?t=3719) of that particular hole is there a nice  
[1:02:01](https://youtu.be/APUCMSPiNh4?t=3721) simple set of transformations that gets  
[1:02:03](https://youtu.be/APUCMSPiNh4?t=3723) to a thinkable reasonable model it turns  
[1:02:06](https://youtu.be/APUCMSPiNh4?t=3726) out there are I have not covered  
[1:02:07](https://youtu.be/APUCMSPiNh4?t=3727) everything I've not talked about larger  
[1:02:09](https://youtu.be/APUCMSPiNh4?t=3729) architectural changes but what we've  
[1:02:10](https://youtu.be/APUCMSPiNh4?t=3730) done is already targeted some of the  
[1:02:13](https://youtu.be/APUCMSPiNh4?t=3733) noise and some of the very common cases  
[1:02:15](https://youtu.be/APUCMSPiNh4?t=3735) in the code and move started moving code  
[1:02:17](https://youtu.be/APUCMSPiNh4?t=3737) in a direction to the point where we  
[1:02:20](https://youtu.be/APUCMSPiNh4?t=3740) might actually say that's an emergent  
[1:02:21](https://youtu.be/APUCMSPiNh4?t=3741) style of the code system if we recognize  
[1:02:23](https://youtu.be/APUCMSPiNh4?t=3743) that many coding practices and coding  
[1:02:25](https://youtu.be/APUCMSPiNh4?t=3745) issues are actually social there's those  
[1:02:27](https://youtu.be/APUCMSPiNh4?t=3747) forces that people go on if that becomes  
[1:02:30](https://youtu.be/APUCMSPiNh4?t=3750) the normal way of doing things  
[1:02:31](https://youtu.be/APUCMSPiNh4?t=3751) eventually people start questioning the  
[1:02:32](https://youtu.be/APUCMSPiNh4?t=3752) bigger picture how do we make this more  
[1:02:34](https://youtu.be/APUCMSPiNh4?t=3754) of a dataflow architecture how do we  
[1:02:36](https://youtu.be/APUCMSPiNh4?t=3756) separate things so that their state is  
[1:02:38](https://youtu.be/APUCMSPiNh4?t=3758) more isolated we can minimize moving  
[1:02:40](https://youtu.be/APUCMSPiNh4?t=3760) parts we can hide moving parts how do we  
[1:02:43](https://youtu.be/APUCMSPiNh4?t=3763) do that but it starts with the little  
[1:02:44](https://youtu.be/APUCMSPiNh4?t=3764) stuff there very simple habits that we  
[1:02:46](https://youtu.be/APUCMSPiNh4?t=3766) have and so I am with a quote from  
[1:02:48](https://youtu.be/APUCMSPiNh4?t=3768) Lucy's Carey which is relevant given  
[1:02:49](https://youtu.be/APUCMSPiNh4?t=3769) that we are across from the houses of  
[1:02:52](https://youtu.be/APUCMSPiNh4?t=3772) parliament outside the houses of  
[1:02:54](https://youtu.be/APUCMSPiNh4?t=3774) parliament is a statue of Oliver  
[1:02:58](https://youtu.be/APUCMSPiNh4?t=3778) Cromwell who was responsible for well  
[1:03:02](https://youtu.be/APUCMSPiNh4?t=3782) Lucy's Kerry is on the wrong side of the  
[1:03:03](https://youtu.be/APUCMSPiNh4?t=3783) English Civil War but he did leave us  
[1:03:05](https://youtu.be/APUCMSPiNh4?t=3785) with a good quote which is you know all  
[1:03:08](https://youtu.be/APUCMSPiNh4?t=3788) that matters a few hundred years after  
[1:03:10](https://youtu.be/APUCMSPiNh4?t=3790) the event when it's not necessary to  
[1:03:11](https://youtu.be/APUCMSPiNh4?t=3791) change it is necessary not to change and  
[1:03:13](https://youtu.be/APUCMSPiNh4?t=3793) we should actually seek that in our  
[1:03:16](https://youtu.be/APUCMSPiNh4?t=3796) object models and our type systems thank  
[1:03:18](https://youtu.be/APUCMSPiNh4?t=3798) you very much  
[1:03:19](https://youtu.be/APUCMSPiNh4?t=3799) [Applause]  

